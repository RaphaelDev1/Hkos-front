{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container-sm\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"d-flex justify-content-center mb-5\"\n}, [/*#__PURE__*/_createElementVNode(\"img\", {\n  src: \"img/logo.png\",\n  class: \"logoinscription\"\n})], -1\n/* HOISTED */\n);\n\nconst _hoisted_3 = {\n  class: \"form-outline mb-4\"\n};\n\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label\",\n  for: \"form2Example1\"\n}, \"Login\", -1\n/* HOISTED */\n);\n\nconst _hoisted_5 = {\n  class: \"form-outline mb-4\"\n};\n\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label\",\n  for: \"form2Example2\"\n}, \"Mot de passe\", -1\n/* HOISTED */\n);\n\nconst _hoisted_7 = {\n  class: \"row mb-4\"\n};\nconst _hoisted_8 = {\n  class: \"d-flex justify-content-center\"\n};\n\nconst _hoisted_9 = /*#__PURE__*/_createTextVNode(\" Connexion\");\n\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"div\", {\n  id: \"notify\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_11 = {\n  class: \"col d-flex justify-content-center\"\n};\n\nconst _hoisted_12 = /*#__PURE__*/_createTextVNode(\"Mot de passe oublié?\");\n\nconst _hoisted_13 = {\n  class: \"text-center\"\n};\n\nconst _hoisted_14 = /*#__PURE__*/_createTextVNode(\"Vous n'etes pas un membre? \");\n\nconst _hoisted_15 = /*#__PURE__*/_createTextVNode(\"Créer un compte\");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"form\", null, [_hoisted_2, _createCommentVNode(\" Email input \"), _createElementVNode(\"div\", _hoisted_3, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    id: \"form2Example1\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.form.login = $event),\n    class: \"form-control\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.form.login]]), _hoisted_4]), _createCommentVNode(\" Password input \"), _createElementVNode(\"div\", _hoisted_5, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    id: \"form2Example2\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.form.password = $event),\n    class: \"form-control\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.form.password]]), _hoisted_6]), _createCommentVNode(\" 2 column grid layout for inline styling \"), _createElementVNode(\"div\", _hoisted_7, [_createCommentVNode(\" Submit button \"), _createElementVNode(\"div\", _hoisted_8, [_createVNode(_component_router_link, {\n    class: \"btn btn-primary btn-block mb-4\",\n    onClick: $options.sendForm,\n    to: \"/dashboard\"\n  }, {\n    default: _withCtx(() => [_hoisted_9]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"onClick\"])]), _hoisted_10, _createElementVNode(\"div\", _hoisted_11, [_createCommentVNode(\" Simple link \"), _createVNode(_component_router_link, {\n    to: \"/forgot-pass\",\n    class: \"text-black\",\n    style: {}\n  }, {\n    default: _withCtx(() => [_hoisted_12]),\n    _: 1\n    /* STABLE */\n\n  })])]), _createCommentVNode(\" Register buttons \"), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"p\", null, [_hoisted_14, _createVNode(_component_router_link, {\n    class: \"text-black\",\n    to: \"/new-account\"\n  }, {\n    default: _withCtx(() => [_hoisted_15]),\n    _: 1\n    /* STABLE */\n\n  })])])])]);\n}","map":{"version":3,"mappings":";;EACOA,KAAK,EAAC;;;gCAEPC,oBAEM,KAFN,EAEM;EAFDD,KAAK,EAAC;AAEL,CAFN,EAA+C,cAC7CC,oBAAkD,KAAlD,EAAkD;EAA7CC,GAAG,EAAC,cAAyC;EAA1BF,KAAK,EAAC;AAAoB,CAAlD,CAD6C,CAA/C;;AAAA;;;EAKKA,KAAK,EAAC;;;gCAETC,oBAA2D,OAA3D,EAA2D;EAApDD,KAAK,EAAC,YAA8C;EAAjCG,GAAG,EAAC;AAA6B,CAA3D,EAA8C,OAA9C,EAAmD;AAAA;AAAnD;;;EAIGH,KAAK,EAAC;;;gCAETC,oBAAkE,OAAlE,EAAkE;EAA3DD,KAAK,EAAC,YAAqD;EAAxCG,GAAG,EAAC;AAAoC,CAAlE,EAA8C,cAA9C,EAA0D;AAAA;AAA1D;;;EAIGH,KAAK,EAAC;;;EAEJA,KAAK,EAAC;;;iDAC6E;;iCAKxFC,oBAAuB,KAAvB,EAAuB;EAAlBG,EAAE,EAAC;AAAe,CAAvB,EAAgB,IAAhB,EAAgB;AAAA;AAAhB;;;EAEKJ,KAAK,EAAC;;;kDAEmD;;;EAK3DA,KAAK,EAAC;;;kDACN;;kDAA6E;;;;;uBArCtFK,oBAwCM,KAxCN,cAwCM,CAvCJJ,oBAsCO,MAtCP,EAsCO,IAtCP,EAsCO,CArCLK,UAqCK,EAjCLC,oCAiCK,EAhCLN,oBAGM,KAHN,cAGM,iBAFJA,oBAAmF,OAAnF,EAAmF;IAA5EO,IAAI,EAAC,OAAuE;IAA/DJ,EAAE,EAAC,eAA4D;+DAAnCK,WAAKC,QAAKC,OAAyB;IAAvBX,KAAK,EAAC;EAAiB,CAAnF;;EAAA,kBAAgDS,WAAKC,QAEjD,EADJE,UACI,CAHN,CAgCK,EA3BLL,uCA2BK,EA1BLN,oBAGM,KAHN,cAGM,iBAFJA,oBAAyF,OAAzF,EAAyF;IAAlFO,IAAI,EAAC,UAA6E;IAAlEJ,EAAE,EAAC,eAA+D;+DAAtCK,WAAKI,WAAQF,OAAyB;IAAvBX,KAAK,EAAC;EAAiB,CAAzF;;EAAA,kBAAmDS,WAAKI,WAEpD,EADJC,UACI,CAHN,CA0BK,EArBLP,gEAqBK,EApBLN,oBAcM,KAdN,cAcM,CAbJM,sCAaI,EAZJN,oBAIM,KAJN,cAIM,CAHJc,aAECC,sBAFD,EAEC;IAFYhB,KAAK,EAAC,gCAElB;IAFoDiB,OAAK,EAAEC,iBAE3D;IAFqEC,EAAE,EAAC;EAExE,CAFD;sBAAsF,MAC3E;;;;GADX;;EAAA,cAGI,CAJN,CAYI,EANJC,WAMI,EAJJnB,oBAGM,KAHN,eAGM,CAFJM,oCAEI,EADJQ,aAA8FC,sBAA9F,EAA8F;IAAjFG,EAAE,EAAC,cAA8E;IAA/DnB,KAAK,EAAC,YAAyD;IAA3CqB,KAAQ,EAAR;EAA2C,CAA9F;sBAA4D,MAAoB;;;;GAAhF,CACI,CAHN,CAII,CAdN,CAoBK,EAJLd,yCAIK,EAHLN,oBAEM,KAFN,eAEM,CADJA,oBAAiH,GAAjH,EAAiH,IAAjH,EAAiH,cAAnFc,aAA+EC,sBAA/E,EAA+E;IAAlEhB,KAAK,EAAC,YAA4D;IAA/CmB,EAAE,EAAC;EAA4C,CAA/E;sBAAkD,MAAe;;;;GAAjE,CAAmF,CAAjH,CACI,CAFN,CAGK,CAtCP,CAuCI,CAxCN","names":["class","_createElementVNode","src","for","id","_createElementBlock","_hoisted_2","_createCommentVNode","type","$data","login","$event","_hoisted_4","password","_hoisted_6","_createVNode","_component_router_link","onClick","$options","to","_hoisted_10","style"],"sourceRoot":"","sources":["/Users/feyraf/Desktop/projet Hkos/hkos-project-front/src/registration/ConnectionBlock.vue"],"sourcesContent":["<template>\n  <div class=\"container-sm\">\n    <form>\n      <div class=\"d-flex justify-content-center mb-5\">\n        <img src=\"img/logo.png\" class=\"logoinscription\" />\n      </div>\n\n      <!-- Email input -->\n      <div class=\"form-outline mb-4\">\n        <input type=\"email\" id=\"form2Example1\" v-model=\"form.login\" class=\"form-control\" />\n        <label class=\"form-label\" for=\"form2Example1\">Login</label>\n      </div>\n\n      <!-- Password input -->\n      <div class=\"form-outline mb-4\">\n        <input type=\"password\" id=\"form2Example2\" v-model=\"form.password\" class=\"form-control\" />\n        <label class=\"form-label\" for=\"form2Example2\">Mot de passe</label>\n      </div>\n\n      <!-- 2 column grid layout for inline styling -->\n      <div class=\"row mb-4\">\n        <!-- Submit button -->\n        <div class=\"d-flex justify-content-center\">\n          <router-link class=\"btn btn-primary btn-block mb-4\" @click=\"sendForm\" to=\"/dashboard\">\n            Connexion</router-link\n          >\n        </div>\n\n        <div id=\"notify\"></div>\n\n        <div class=\"col d-flex justify-content-center\">\n          <!-- Simple link -->\n          <router-link to=\"/forgot-pass\" class=\"text-black\"  style=\"\">Mot de passe oublié?</router-link>\n        </div>\n      </div>\n\n      <!-- Register buttons -->\n      <div class=\"text-center\">\n        <p>Vous n'etes pas un membre? <router-link class=\"text-black\" to=\"/new-account\">Créer un compte</router-link></p>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"ConnectionBlock\",\n  props: {\n    msg: String,\n  },\n  data() {\n    return {\n      form: {\n        login: \"\",\n        password: \"\",\n      },\n    };\n  },\n  methods: {\n    async sendForm() {\n      let res = await fetch(\"http://localhost:3000/auth/login\", {\n        method: \"post\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(this.form),\n      });\n\n      let data = await res.json();\n\n      console.log(data);\n      console.log(res.json.msg)\n      const Notify = document.querySelector(\"#notify\");\n\n      if (data.status == \"ok\")\n        Notify.innerHTML =\n          this.$router.push('Dashboard') ;\n      else\n        Notify.innerHTML = '<p class=\"text-danger\">Login ou mot de passe incorrecte!</p>'; \n    },\n  },\n};\n</script>"]},"metadata":{},"sourceType":"module"}