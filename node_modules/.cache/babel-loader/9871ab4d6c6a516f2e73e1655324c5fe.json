{"ast":null,"code":"import _defineProperty from \"/Users/feyraf/Desktop/projet Hkos/hkos-project-front/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport AddClientBlock from \"../AddClientBlock.vue\";\n\nclass lines {\n  constructor() {\n    _defineProperty(this, \"productName\", \"\");\n\n    _defineProperty(this, \"date\", \"\");\n\n    _defineProperty(this, \"units\", \"\");\n\n    _defineProperty(this, \"quantity\", \"\");\n\n    _defineProperty(this, \"htPrice\", \"\");\n\n    _defineProperty(this, \"tvaPercent\", \"\");\n\n    _defineProperty(this, \"finalPrice\", \"\");\n  }\n\n}\n\nexport default {\n  name: \"FactureBlockGenerateur\",\n  props: {\n    msg: String\n  },\n\n  data() {\n    return {\n      status: false,\n      revele: false,\n      form: {\n        clientUuid: \"\",\n        dateReglement: \"\",\n        commentaires: \"\",\n        lines: [new lines()],\n        totalTTC: \"\",\n        totalHT: \"\",\n        totalTVA: \"\",\n        userUuid: \"7dc966c7-2a68-4a2d-b79e-407579f178c3\",\n        remise: \"\",\n        remiseUnits: \"\",\n        accompte: \"\",\n        accompteUnits: \"\"\n      },\n      err: \"\"\n    };\n  },\n\n  methods: {\n    format(e) {\n      var key = e.key;\n\n      if (!/^\\d+/g.test(key) && key != \"Backspace\" && key != \"Delete\" && key != \"ArrowLeft\" && key != \"ArrowRight\") {\n        e.preventDefault();\n      }\n    },\n\n    addRow() {\n      this.form.lines.push(new lines());\n    },\n\n    async sendForm() {\n      let res = await fetch(`${process.env.VUE_APP_ROOT_API}/facture/create`, {\n        method: \"post\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(this.form)\n      });\n      let data = await res.json();\n\n      if (data.message == \"Facture created\") {\n        this.$router.push(\"Facture\");\n      } else {\n        console.log(data);\n        this.err = data.error.message;\n      }\n    },\n\n    removeLast() {\n      this.form.lines.pop();\n    },\n\n    toggleModale: function (e) {\n      if (e) {\n        if (!e.target.closest(\".modale\") || e.target.id == \"close-btn\") this.revele = false;\n      } else this.revele = false;\n    }\n  },\n\n  mounted() {\n    this.$store.dispatch(\"getClients\");\n  },\n\n  computed: {\n    getTotal() {\n      let result = 0;\n\n      if (this.form.remiseUnits === \"%\" && this.form.remise) {\n        this.form.lines.forEach(elem => {\n          result += elem.htPrice * elem.quantity * (1 - this.form.remise / 100) * (elem.tvaPercent / 100 + 1);\n        });\n        return result;\n      }\n\n      getHT();\n    },\n\n    getHT() {\n      let result = 0;\n\n      if (this.form.remiseUnits === \"%\" && this.form.remise) {\n        this.form.lines.forEach(elem => {\n          result += elem.htPrice * elem.quantity * (1 - this.form.remise / 100);\n        });\n\n        if (result < 0) {\n          return 0;\n        }\n\n        return result;\n      }\n\n      this.form.lines.forEach(elem => {\n        result += elem.htPrice * elem.quantity;\n      });\n\n      if (result < 0) {\n        return 0;\n      }\n\n      return result - this.form.remise;\n    },\n\n    getTVAeuro() {\n      let result = 0;\n      this.form.lines.forEach(elem => {\n        result += elem.htPrice * elem.quantity * (1 - this.form.remise / 100) * (elem.tvaPercent / 100 + 1) - (elem.htPrice * elem.quantity - this.form.remise);\n      });\n\n      if (result < 0) {\n        return 0;\n      }\n\n      return result;\n    },\n\n    getClients() {\n      return this.$store.state.Clients;\n    }\n\n  },\n  components: {\n    AddClientBlock\n  }\n};","map":{"version":3,"mappings":"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","names":["AddClientBlock","lines","name","props","msg","String","data","status","revele","form","clientUuid","dateReglement","commentaires","totalTTC","totalHT","totalTVA","userUuid","remise","remiseUnits","accompte","accompteUnits","err","methods","format","e","key","test","preventDefault","addRow","push","sendForm","res","fetch","process","env","VUE_APP_ROOT_API","method","headers","body","JSON","stringify","json","message","$router","console","log","error","removeLast","pop","toggleModale","target","closest","id","mounted","$store","dispatch","computed","getTotal","result","forEach","elem","htPrice","quantity","tvaPercent","getHT","getTVAeuro","getClients","state","Clients","components"],"sourceRoot":"","sources":["/Users/feyraf/Desktop/projet Hkos/hkos-project-front/src/components/user/Facture/FactureBlockGenerateur.vue"],"sourcesContent":["<template>\n  <AddClientBlock\n    @accept=\"$store.dispatch('getClients')\"\n    v-bind:revele=\"revele\"\n    v-bind:toggleModale=\"toggleModale\"\n  />\n  <div class=\"container\">\n    <div class=\"border-bottom d-flex justify-content-between\">\n      <span class=\"fw-normal\" style=\"font-size: 20px\"\n        ><i\n          class=\"fa-solid fa-circle\"\n          style=\"font-size: 18px; color: yellow\"\n        ></i>\n        Facture</span\n      >\n      <button class=\"btn mb-1 btn-danger\" @click=\"$router.go(-1)\">\n        Retour\n      </button>\n    </div>\n\n    <div class=\"pb-2 mt-3\"><span>Client</span></div>\n\n    <div class=\"input-group pb-3 border-bottom\">\n      <button\n        class=\"btn-hkos\"\n        v-on:click=\"\n          $store.dispatch('toggleModal', { status: true, event: $event.target })\n        \"\n        id=\"open-modal\"\n      >\n        Nouveau client +\n      </button>\n      <select\n        class=\"form-control\"\n        style=\"font-weight: 300\"\n        v-model=\"form.clientUuid\"\n      >\n        <option value=\"\" disabled selected hidden>\n          ▾ Sélectionner un client\n        </option>\n        <option v-for=\"client in getClients\" :value=\"client.uuid\" :key=\"client\">\n          {{ client.nom }} {{ client.prenoms }}\n        </option>\n      </select>\n    </div>\n\n    <div class=\"d-flex border-bottom pb-3 pt-3 row\">\n      <div class=\"w-50 col-lg\">\n        <div>\n          <label class=\"form-label\" for=\"inputDesctiption\">Commentaires</label>\n          <textarea\n            class=\"form-control\"\n            rows=\"4\"\n            v-model=\"form.commentaires\"\n          ></textarea>\n        </div>\n      </div>\n      <div class=\"w-50 col-lg\">\n        <div class=\"pb-2\">\n          <label class=\"form-label\">Date limite de réglement </label>\n          <input\n            class=\"form-control\"\n            v-model=\"form.dateReglement\"\n            type=\"date\"\n          />\n        </div>\n      </div>\n    </div>\n\n    <div class=\"table\">\n      <div\n        class=\"t-row row mt-2\"\n        id=\"devismainblock\"\n        v-for=\"row in form.lines\"\n        :key=\"row\"\n      >\n        <div class=\"col-xl-4\" id=\"devismainblock\">\n          <label class=\"\">Description</label>\n          <input\n            class=\"form-control\"\n            v-model=\"row.productName\"\n            type=\"text\"\n            placeholder=\"Description\"\n          />\n        </div>\n        <div class=\"col\">\n          <label class=\"\">Date</label>\n          <input class=\"form-control\" v-model=\"row.date\" type=\"date\" />\n        </div>\n\n        <div class=\"col\">\n          <label class=\"\">Quantité</label>\n          <input\n            id=\"qty\"\n            class=\"form-control calc-inp maclasse\"\n            v-model=\"row.quantity\"\n            @keydown=\"format\"\n            placeholder=\"Quantité\"\n            type=\"number\"\n            step=\"1.0\"\n          />\n        </div>\n\n        <div class=\"col\">\n          <label class=\"\">Unité</label>\n          <select\n            id=\"unit\"\n            class=\"form-control\"\n            type=\"\"\n            style=\"font-weight: 300\"\n            v-model=\"row.units\"\n          >\n            <option value=\"\" disabled selected hidden>▾ Unité</option>\n            <option value=\"PIECE\">Piéce(s)</option>\n            <option value=\"HEURE\">Heures</option>\n            <option value=\"KM\">Km</option>\n            <option value=\"KG\">Kg</option>\n            <option value=\"M\">M</option>\n            <option value=\"LOT_PARC\">Lot Parc</option>\n            <option value=\"AM\">Am</option>\n          </select>\n        </div>\n\n        <div class=\"col\">\n          <label class=\"\">Prix</label>\n          <input\n            id=\"price\"\n            class=\"form-control calc-inp\"\n            type=\"number\"\n            placeholder=\"Prix €\"\n            v-model=\"row.htPrice\"\n          />\n        </div>\n        <div class=\"col\">\n          <label class=\"\">TVA</label>\n          <input\n            id=\"tax\"\n            class=\"form-control calc-inp\"\n            type=\"number\"\n            v-model=\"row.tvaPercent\"\n            @keydown=\"format\"\n            placeholder=\"TVA %\"\n            step=\"1\"\n          />\n        </div>\n\n        <div class=\"col\">\n          <label class=\"\">Montant</label>\n          <input\n            class=\"form-control\"\n            type=\"points\"\n            :value=\"\n              (row.finalPrice =\n                row.quantity *\n                row.htPrice *\n                (1 + row.tvaPercent / 100)).toFixed(2)\n            \"\n            step=\"0.1\"\n            readonly=\"readonly\"\n          />\n        </div>\n      </div>\n    </div>\n\n    <!-- row.quantity * row.htPrice * (1 + row.tvaPercent / 100) -->\n    <!-- Lines -->\n\n    <div class=\"mx-auto d-flex justify-content-between border-bottom pb-3\">\n      <div>\n        <button\n          class=\"btn btn-light border mt-3\"\n          id=\"addbutton\"\n          type=\"button\"\n          @click=\"addRow\"\n        >\n          Ajouter +\n        </button>\n      </div>\n\n      <div>\n        <button\n          v-if=\"form.lines.length > 1\"\n          @click=\"removeLast\"\n          class=\"btn btn-light border mt-3\"\n        >\n          Supprimer -\n        </button>\n      </div>\n    </div>\n\n    <div class=\"border-bottom pb-3 pt-3\">\n      <div class=\"w-25 col-lg\">\n        <div class=\"pb-2\">\n          <label class=\"form-label pe-2\" for=\"inputDesctiption\">Remise</label>\n          <div class=\"form-check form-check-inline\">\n            <input\n              class=\"form-check-input\"\n              type=\"radio\"\n              name=\"remise\"\n              id=\"inlineRadio1\"\n              value=\"€\"\n              checked\n              v-model=\"form.remiseUnits\"\n            />\n            <label class=\"form-check-label\" for=\"inlineRadio1\">€</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input\n              class=\"form-check-input\"\n              type=\"radio\"\n              name=\"remise\"\n              id=\"inlineRadio2\"\n              value=\"%\"\n              v-model=\"form.remiseUnits\"\n            />\n            <label class=\"form-check-label\" for=\"inlineRadio2\">%</label>\n          </div>\n          <input\n            class=\"form-control\"\n            placeholder=\"Remise\"\n            type=\"number\"\n            step=\"0.01\"\n            @keydown=\"format\"\n            v-model=\"form.remise\"\n          />\n        </div>\n      </div>\n      <div class=\"w-25 col-lg\">\n        <div class=\"pb-2\">\n          <label class=\"form-label pe-2\">Acompte</label>\n          <div class=\"form-check form-check-inline\">\n            <input\n              class=\"form-check-input\"\n              type=\"radio\"\n              name=\"accompte\"\n              id=\"inlineRadio3\"\n              value=\"€\"\n              v-model=\"form.accompteUnits\"\n              checked\n            />\n            <label class=\"form-check-label\" for=\"inlineRadio3\">€</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input\n              class=\"form-check-input\"\n              type=\"radio\"\n              name=\"accompte\"\n              id=\"inlineRadio4\"\n              value=\"%\"\n              v-model=\"form.accompteUnits\"\n            />\n            <label class=\"form-check-label\" for=\"inlineRadio4\">%</label>\n          </div>\n          <input\n            class=\"form-control\"\n            placeholder=\"Acompte\"\n            type=\"number\"\n            step=\"0.01\"\n            @keydown=\"format\"\n            v-model=\"form.accompte\"\n          />\n        </div>\n      </div>\n    </div>\n\n    <div>\n      <label class=\"mt-3 me-3\">Total HT</label>\n      <span>€ </span>\n      <input\n        style=\"border: none\"\n        type=\"number\"\n        placeholder=\"0.00\"\n        readonly=\"readonly\"\n        :value=\"(form.totalHT = getHT.toFixed(2))\"\n      />\n    </div>\n\n    <div>\n      <label class=\"mt-3 me-2\">Total TVA</label>\n      <span>€ </span>\n      <input\n        style=\"border: none\"\n        type=\"number\"\n        placeholder=\"0.00\"\n        readonly=\"readonly\"\n        :value=\"(form.totalTVA = getTVAeuro.toFixed(2))\"\n      />\n    </div>\n\n    <div class=\"\">\n      <label class=\"mt-3 me-2\">Total TTC</label>\n      <span>€ </span>\n      <input\n        id=\"amount\"\n        style=\"border: none\"\n        type=\"number\"\n        placeholder=\"0.00\"\n        readonly=\"readonly\"\n        :value=\"(form.totalTTC = getTotal.toFixed(2))\"\n      />\n    </div>\n  </div>\n\n  <div id=\"notify\" class=\"text-danger\">{{ err }}</div>\n\n  <div class=\"d-flex justify-content-center m-4\">\n    <button class=\"btn-hkos\" @click=\"sendForm\">Générer ma facture</button>\n  </div>\n</template>\n\n<script>\nimport AddClientBlock from \"../AddClientBlock.vue\";\n\nclass lines {\n  productName = \"\";\n  date = \"\";\n  units = \"\";\n  quantity = \"\";\n  htPrice = \"\";\n  tvaPercent = \"\";\n  finalPrice = \"\";\n}\n\nexport default {\n  name: \"FactureBlockGenerateur\",\n  props: {\n    msg: String,\n  },\n\n  data() {\n    return {\n      status: false,\n      revele: false,\n      form: {\n        clientUuid: \"\",\n        dateReglement: \"\",\n        commentaires: \"\",\n        lines: [new lines()],\n        totalTTC: \"\",\n        totalHT: \"\",\n        totalTVA: \"\",\n        userUuid: \"7dc966c7-2a68-4a2d-b79e-407579f178c3\",\n        remise: \"\",\n        remiseUnits: \"\",\n        accompte: \"\",\n        accompteUnits: \"\",\n      },\n      err: \"\",\n    };\n  },\n  methods: {\n    format(e) {\n      var key = e.key;\n\n      if (\n        !/^\\d+/g.test(key) &&\n        key != \"Backspace\" &&\n        key != \"Delete\" &&\n        key != \"ArrowLeft\" &&\n        key != \"ArrowRight\"\n      ) {\n        e.preventDefault();\n      }\n    },\n    addRow() {\n      this.form.lines.push(new lines());\n    },\n    async sendForm() {\n      let res = await fetch(`${process.env.VUE_APP_ROOT_API}/facture/create`, {\n        method: \"post\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(this.form),\n      });\n\n      let data = await res.json();\n\n      if (data.message == \"Facture created\") {\n        this.$router.push(\"Facture\");\n      } else {\n        console.log(data);\n        this.err = data.error.message;\n      }\n    },\n\n    removeLast() {\n      this.form.lines.pop();\n    },\n\n    toggleModale: function (e) {\n      if (e) {\n        if (!e.target.closest(\".modale\") || e.target.id == \"close-btn\")\n          this.revele = false;\n      } else this.revele = false;\n    },\n  },\n  mounted() {\n    this.$store.dispatch(\"getClients\");\n  },\n\n  computed: {\n    getTotal() {\n      let result = 0;\n\n      if (this.form.remiseUnits === \"%\" && this.form.remise) {\n        this.form.lines.forEach((elem) => {\n        result +=\n          ((elem.htPrice * elem.quantity) * (1 - (this.form.remise / 100))) * (elem.tvaPercent / 100 + 1) \n      });\n      return result \n      }\n\n\n      getHT();\n\n      \n    },\n\n    getHT() {\n\n      let result = 0;\n\n      if (this.form.remiseUnits === \"%\" && this.form.remise) {\n        this.form.lines.forEach((elem) => {\n        result += (elem.htPrice * elem.quantity) * (1 - this.form.remise/100);\n      });\n\n      if (result < 0) {\n        return 0;\n      }\n\n      return result \n      }\n\n      this.form.lines.forEach((elem) => {\n        result += elem.htPrice * elem.quantity;\n      });\n\n      if (result < 0) {\n        return 0;\n      }\n      \n      return result - this.form.remise;\n    },\n\n\n    getTVAeuro() {\n      let result = 0;\n      this.form.lines.forEach((elem) => {\n        result +=\n          ((elem.htPrice * elem.quantity) * (1 - (this.form.remise / 100))) * (elem.tvaPercent / 100 + 1) - (elem.htPrice * elem.quantity - this.form.remise)\n      });\n      if (result < 0) {\n        return 0;\n      }\n      return result;\n    },\n\n    getClients() {\n      return this.$store.state.Clients;\n    },\n  },\n  components: {\n    AddClientBlock,\n  },\n};\n</script>\n\n<style scoped>\n* {\n  font-size: 14px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}