{"ast":null,"code":"export default {\n  name: \"AddClientBlock\",\n\n  data() {\n    return {\n      form: {\n        type: \"\",\n        prenoms: \"\",\n        nom: \"\",\n        email: \"\",\n        telephone: \"\",\n        adresse: \"\",\n        codePostal: \"\",\n        ville: \"\",\n        pays: \"\",\n        siret: \"\",\n        reference: \"refClient-7\",\n        userUuid: \"7dc966c7-2a68-4a2d-b79e-407579f178c3\"\n      },\n      err: \"\"\n    };\n  },\n\n  methods: {\n    async sendForm() {\n      console.log(this.form);\n      let res = await fetch(`${process.env.VUE_APP_ROOT_API}/clients/create`, {\n        method: \"post\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(this.form)\n      });\n      console.log(res.body);\n      let data = await res.json();\n\n      if (data.message) {\n        this.$store.dispatch(\"toggleModal\", {\n          status: false\n        });\n        this.$emit(\"accept\");\n      } else {\n        this.err = data.error.message;\n      }\n\n      console.log(data); //this.clients.push(data)\n      //this.clients = data\n      //fetch(ur).then(()).then();\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA0HA,eAAe;EACbA,IAAI,EAAE,gBADO;;EAGbC,IAAI,GAAG;IACL,OAAO;MACLC,IAAI,EAAE;QACJC,IAAI,EAAE,EADF;QAEJC,OAAO,EAAE,EAFL;QAGJC,GAAG,EAAE,EAHD;QAKJC,KAAK,EAAE,EALH;QAMJC,SAAS,EAAE,EANP;QAOJC,OAAO,EAAE,EAPL;QASJC,UAAU,EAAE,EATR;QAUJC,KAAK,EAAE,EAVH;QAWJC,IAAI,EAAE,EAXF;QAYJC,KAAK,EAAE,EAZH;QAaJC,SAAS,EAAE,aAbP;QAcJC,QAAQ,EAAE;MAdN,CADD;MAiBLC,GAAG,EAAE;IAjBA,CAAP;EAmBD,CAvBY;;EAwBbC,OAAO,EAAE;IACP,MAAMC,QAAN,GAAiB;MACfC,OAAO,CAACC,GAAR,CAAY,KAAKjB,IAAjB;MACA,IAAIkB,GAAE,GAAI,MAAMC,KAAK,CAAE,GAAEC,OAAO,CAACC,GAAR,CAAYC,gBAAiB,iBAAjC,EAAmD;QACtEC,MAAM,EAAE,MAD8D;QAEtEC,OAAO,EAAE;UAAE,gBAAgB;QAAlB,CAF6D;QAGtEC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,KAAK3B,IAApB;MAHgE,CAAnD,CAArB;MAMAgB,OAAO,CAACC,GAAR,CAAYC,GAAG,CAACO,IAAhB;MAEA,IAAI1B,IAAG,GAAI,MAAMmB,GAAG,CAACU,IAAJ,EAAjB;;MACA,IAAI7B,IAAI,CAAC8B,OAAT,EAAkB;QAChB,KAAKC,MAAL,CAAYC,QAAZ,CAAqB,aAArB,EAAoC;UAAEC,MAAM,EAAE;QAAV,CAApC;QACA,KAAKC,KAAL,CAAW,QAAX;MACF,CAHA,MAGO;QACL,KAAKpB,GAAL,GAAWd,IAAI,CAACmC,KAAL,CAAWL,OAAtB;MACF;;MACAb,OAAO,CAACC,GAAR,CAAYlB,IAAZ,EAjBe,CAmBf;MAEA;MAEA;IACD;;EAzBM;AAxBI,CAAf","names":["name","data","form","type","prenoms","nom","email","telephone","adresse","codePostal","ville","pays","siret","reference","userUuid","err","methods","sendForm","console","log","res","fetch","process","env","VUE_APP_ROOT_API","method","headers","body","JSON","stringify","json","message","$store","dispatch","status","$emit","error"],"sourceRoot":"","sources":["/Users/feyraf/Desktop/projet Hkos/hkos-project-front/src/components/user/AddClientBlock.vue"],"sourcesContent":["\n<template>\n  <div\n    class=\"overlay\"\n    v-if=\"$store.state.revele\"\n    v-on:click=\"$store.dispatch('toggleModal', { target: $event.target })\"\n  >\n    <div class=\"modale\">\n      <div class=\"container\">\n        <div class=\"pt-3 pb-3 border-bottom\">\n          <div class=\"d-flex justify-content-end\">\n            <button class=\"btn me-2 color-white\" id=\"close-btn\">X</button>\n          </div>\n          <h3 class=\"m-auto\" style=\"font-weight: 300; text-align: center\">\n            Nouveau client\n          </h3>\n        </div>\n\n        <div class=\"pb-5 mt-5 row m-auto\">\n          <div class=\"col-lg\">\n            <!-- left -->\n\n            <div class=\"pb-2 d-flex justify-content-between\">\n              <label class=\"form-label\">Type de client</label>\n              <select\n                class=\"form-select w-50\"\n                style=\"font-weight: 300\"\n                v-model=\"form.type\"\n              >\n                <option value=\"\" disabled selected hidden>\n                  ▾ Sélectionner type de client\n                </option>\n                <option value=\"particulier\" selected>Client particulier</option>\n                <option value=\"professionnel\">Client professionnel</option>\n              </select>\n            </div>\n\n            <div class=\"pb-2 mt-3 mb-3 d-flex justify-content-between\">\n              <div></div>\n              <span class=\"w-50\" style=\"font-weight: 400\">Coordonnées</span>\n            </div>\n\n            <div class=\"pb-2 d-flex justify-content-between\">\n              <label class=\"form-label\">Prénom *</label>\n              <input class=\"form-control w-50\" v-model=\"form.prenoms\" placeholder=\"Prénom\" />\n            </div>\n\n            <div class=\"pb-2 d-flex justify-content-between\">\n              <label class=\"form-label\">Nom de famille *</label>\n              <input class=\"form-control w-50\" v-model=\"form.nom\" placeholder=\"Nom de famille\" />\n            </div>\n\n            <div class=\"pb-2 d-flex justify-content-between\">\n              <label class=\"form-label\">E-mail</label>\n              <input class=\"form-control w-50\" v-model=\"form.email\" placeholder=\"E-mail\" type=\"email\"/>\n            </div>\n\n            <div class=\"pb-2 d-flex justify-content-between\">\n              <label class=\"form-label\">Téléphone</label>\n              <input class=\"form-control w-50\" v-model=\"form.telephone\" placeholder=\"Téléphone\" required />\n            </div>\n\n            <div class=\"pb-2 mt-3 mb-3 d-flex justify-content-between\">\n              <div></div>\n              <span class=\"w-50\" style=\"font-weight: 400\"\n                >Adresse de facturation</span\n              >\n            </div>\n\n            <div class=\"pb-2 d-flex justify-content-between\">\n              <label class=\"form-label\">Adresse</label>\n              <input class=\"form-control w-50\" v-model=\"form.adresse\" placeholder=\"Adresse\" />\n            </div>\n\n            <div class=\"pb-2 d-flex justify-content-between\">\n              <label class=\"form-label\">Code Postale</label>\n              <input class=\"form-control w-50\" v-model=\"form.codePostal\" placeholder=\"Code Postale\" />\n            </div>\n\n            <div class=\"pb-2 d-flex justify-content-between\">\n              <label class=\"form-label\">Ville</label>\n              <input class=\"form-control w-50\" v-model=\"form.ville\" placeholder=\"Ville\" />\n            </div>\n\n            <div class=\"pb-2 d-flex justify-content-between\">\n              <label class=\"form-label\">Pays</label>\n              <input class=\"form-control w-50\" v-model=\"form.pays\" placeholder=\"Pays\" />\n            </div>\n\n            <div class=\"pb-2 mt-3 mb-3 d-flex justify-content-between\">\n              <div></div>\n              <span class=\"w-50\" style=\"font-weight: 400\"\n                >Adresse E-facture</span\n              >\n            </div>\n\n            <div class=\"pb-2 d-flex justify-content-between\">\n              <label class=\"form-label\">Siret</label>\n              <input class=\"form-control w-50\" v-model=\"form.siret\" placeholder=\"XXX-XXX-XXX-XXXXX\" />\n            </div>\n\n            <div class=\"d-flex justify-content-center mt-5\">\n              <button class=\"btn btn-primary me-3\" to=\"\" @click=\"sendForm\">\n                Enregistrer\n              </button>\n              <button\n                class=\"btn btn-light border pe-4 ps-4\"\n                to=\"\"\n                id=\"close-btn\"\n              >\n                Annuler\n              </button>\n            </div>\n            <div id=\"notify\" class=\"text-danger\">{{ err }}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"AddClientBlock\",\n\n  data() {\n    return {\n      form: {\n        type: \"\",\n        prenoms: \"\",\n        nom: \"\",\n\n        email: \"\",\n        telephone: \"\",\n        adresse: \"\",\n\n        codePostal: \"\",\n        ville: \"\",\n        pays: \"\",\n        siret: \"\",\n        reference: \"refClient-7\",\n        userUuid: \"7dc966c7-2a68-4a2d-b79e-407579f178c3\",\n      },\n      err: \"\",\n    };\n  },\n  methods: {\n    async sendForm() {\n      console.log(this.form);\n      let res = await fetch(`${process.env.VUE_APP_ROOT_API}/clients/create`, {\n        method: \"post\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(this.form),\n      });\n\n      console.log(res.body);\n\n      let data = await res.json();\n      if (data.message) {\n        this.$store.dispatch(\"toggleModal\", { status: false });\n        this.$emit(\"accept\");\n      } else {\n        this.err = data.error.message;\n      }\n      console.log(data);\n\n      //this.clients.push(data)\n\n      //this.clients = data\n\n      //fetch(ur).then(()).then();\n    },\n  },\n};\n</script>\n\n<style scoped>\n* {\n  font-size: 14px;\n}\n.overlay {\n  background: rgba(0, 0, 0, 0.5);\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  overflow: auto;\n  z-index: 9999;\n}\n\n.modale {\n  background: white;\n  border: 5px solid rgb(50, 141, 245);\n  width: 90%;\n  margin: 100px auto;\n  border-radius: 15px;\n}\n</style>"]},"metadata":{},"sourceType":"module"}