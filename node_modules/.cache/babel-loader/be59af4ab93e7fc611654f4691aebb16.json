{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withDirectives as _withDirectives, vModelText as _vModelText, createCommentVNode as _createCommentVNode, vModelRadio as _vModelRadio, createStaticVNode as _createStaticVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2f66903a\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"border-bottom d-flex justify-content-between\"\n};\n\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"fw-normal\",\n  style: {\n    \"font-size\": \"20px\"\n  }\n}, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa-solid fa-circle\",\n  style: {\n    \"font-size\": \"18px\",\n    \"color\": \"yellow\"\n  }\n}), /*#__PURE__*/_createTextVNode(\" Facture\")], -1\n/* HOISTED */\n));\n\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"pb-2 mt-3\"\n}, [/*#__PURE__*/_createElementVNode(\"span\", null, \"Client\")], -1\n/* HOISTED */\n));\n\nconst _hoisted_5 = {\n  class: \"input-group pb-3 border-bottom\"\n};\n\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"\",\n  disabled: \"\",\n  selected: \"\",\n  hidden: \"\"\n}, \" ▾ Sélectionner un client \", -1\n/* HOISTED */\n));\n\nconst _hoisted_7 = [\"value\"];\nconst _hoisted_8 = {\n  class: \"d-flex border-bottom pb-3 pt-3 row\"\n};\nconst _hoisted_9 = {\n  class: \"w-50 col-lg\"\n};\n\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label\",\n  for: \"inputDesctiption\"\n}, \"Commentaires\", -1\n/* HOISTED */\n));\n\nconst _hoisted_11 = {\n  class: \"w-50 col-lg\"\n};\nconst _hoisted_12 = {\n  class: \"pb-2\"\n};\n\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label\"\n}, \"Date limite de réglement \", -1\n/* HOISTED */\n));\n\nconst _hoisted_14 = {\n  class: \"table\"\n};\nconst _hoisted_15 = {\n  class: \"col-xl-4\",\n  id: \"devismainblock\"\n};\n\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"\"\n}, \"Description\", -1\n/* HOISTED */\n));\n\nconst _hoisted_17 = [\"onUpdate:modelValue\"];\nconst _hoisted_18 = {\n  class: \"col\"\n};\n\nconst _hoisted_19 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"\"\n}, \"Date\", -1\n/* HOISTED */\n));\n\nconst _hoisted_20 = [\"onUpdate:modelValue\"];\nconst _hoisted_21 = {\n  class: \"col\"\n};\n\nconst _hoisted_22 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"\"\n}, \"Quantité\", -1\n/* HOISTED */\n));\n\nconst _hoisted_23 = [\"onUpdate:modelValue\"];\nconst _hoisted_24 = {\n  class: \"col\"\n};\n\nconst _hoisted_25 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"\"\n}, \"Unité\", -1\n/* HOISTED */\n));\n\nconst _hoisted_26 = [\"onUpdate:modelValue\"];\n\nconst _hoisted_27 = /*#__PURE__*/_createStaticVNode(\"<option value=\\\"\\\" disabled selected hidden data-v-2f66903a>▾ Unité</option><option value=\\\"PIECE\\\" data-v-2f66903a>Piéce(s)</option><option value=\\\"HEURE\\\" data-v-2f66903a>Heures</option><option value=\\\"KM\\\" data-v-2f66903a>Km</option><option value=\\\"KG\\\" data-v-2f66903a>Kg</option><option value=\\\"M\\\" data-v-2f66903a>M</option><option value=\\\"LOT_PARC\\\" data-v-2f66903a>Lot Parc</option><option value=\\\"AM\\\" data-v-2f66903a>Am</option>\", 8);\n\nconst _hoisted_35 = [_hoisted_27];\nconst _hoisted_36 = {\n  class: \"col\"\n};\n\nconst _hoisted_37 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"\"\n}, \"Prix\", -1\n/* HOISTED */\n));\n\nconst _hoisted_38 = [\"onUpdate:modelValue\"];\nconst _hoisted_39 = {\n  class: \"col\"\n};\n\nconst _hoisted_40 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"\"\n}, \"TVA\", -1\n/* HOISTED */\n));\n\nconst _hoisted_41 = [\"onUpdate:modelValue\"];\nconst _hoisted_42 = {\n  class: \"col\"\n};\n\nconst _hoisted_43 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"\"\n}, \"Montant\", -1\n/* HOISTED */\n));\n\nconst _hoisted_44 = [\"value\"];\nconst _hoisted_45 = {\n  class: \"mx-auto d-flex justify-content-between border-bottom pb-3\"\n};\nconst _hoisted_46 = {\n  class: \"border-bottom pb-3 pt-3\"\n};\nconst _hoisted_47 = {\n  class: \"w-25 col-lg\"\n};\nconst _hoisted_48 = {\n  class: \"pb-2\"\n};\n\nconst _hoisted_49 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label pe-2\",\n  for: \"inputDesctiption\"\n}, \"Remise\", -1\n/* HOISTED */\n));\n\nconst _hoisted_50 = {\n  class: \"form-check form-check-inline\"\n};\n\nconst _hoisted_51 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-check-label\",\n  for: \"inlineRadio1\"\n}, \"€\", -1\n/* HOISTED */\n));\n\nconst _hoisted_52 = {\n  class: \"form-check form-check-inline\"\n};\n\nconst _hoisted_53 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-check-label\",\n  for: \"inlineRadio2\"\n}, \"%\", -1\n/* HOISTED */\n));\n\nconst _hoisted_54 = {\n  class: \"w-25 col-lg\"\n};\nconst _hoisted_55 = {\n  class: \"pb-2\"\n};\n\nconst _hoisted_56 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label pe-2\"\n}, \"Acompte\", -1\n/* HOISTED */\n));\n\nconst _hoisted_57 = {\n  class: \"form-check form-check-inline\"\n};\n\nconst _hoisted_58 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-check-label\",\n  for: \"inlineRadio3\"\n}, \"€\", -1\n/* HOISTED */\n));\n\nconst _hoisted_59 = {\n  class: \"form-check form-check-inline\"\n};\n\nconst _hoisted_60 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-check-label\",\n  for: \"inlineRadio4\"\n}, \"%\", -1\n/* HOISTED */\n));\n\nconst _hoisted_61 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"mt-3 me-3\"\n}, \"Total HT\", -1\n/* HOISTED */\n));\n\nconst _hoisted_62 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"€ \", -1\n/* HOISTED */\n));\n\nconst _hoisted_63 = [\"value\"];\n\nconst _hoisted_64 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"mt-3 me-2\"\n}, \"Total TVA\", -1\n/* HOISTED */\n));\n\nconst _hoisted_65 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"€ \", -1\n/* HOISTED */\n));\n\nconst _hoisted_66 = [\"value\"];\nconst _hoisted_67 = {\n  class: \"\"\n};\n\nconst _hoisted_68 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"mt-3 me-2\"\n}, \"Total TTC\", -1\n/* HOISTED */\n));\n\nconst _hoisted_69 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"€ \", -1\n/* HOISTED */\n));\n\nconst _hoisted_70 = [\"value\"];\nconst _hoisted_71 = {\n  id: \"notify\",\n  class: \"text-danger\"\n};\nconst _hoisted_72 = {\n  class: \"d-flex justify-content-center m-4\"\n};\nexport function render(_ctx, _cache) {\n  const _component_AddClientBlock = _resolveComponent(\"AddClientBlock\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_AddClientBlock, {\n    onAccept: _cache[0] || (_cache[0] = $event => _ctx.$store.dispatch('getClients')),\n    revele: _ctx.revele,\n    toggleModale: _ctx.toggleModale\n  }, null, 8\n  /* PROPS */\n  , [\"revele\", \"toggleModale\"]), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"button\", {\n    class: \"btn mb-1 btn-danger\",\n    onClick: _cache[1] || (_cache[1] = $event => _ctx.$router.go(-1))\n  }, \" Retour \")]), _hoisted_4, _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"button\", {\n    class: \"btn-hkos\",\n    onClick: _cache[2] || (_cache[2] = $event => _ctx.$store.dispatch('toggleModal', {\n      status: true,\n      event: $event.target\n    })),\n    id: \"open-modal\"\n  }, \" Nouveau client + \"), _withDirectives(_createElementVNode(\"select\", {\n    class: \"form-control\",\n    style: {\n      \"font-weight\": \"300\"\n    },\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => _ctx.form.clientUuid = $event)\n  }, [_hoisted_6, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.getClients, client => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      value: client.uuid,\n      key: client\n    }, _toDisplayString(client.nom) + \" \" + _toDisplayString(client.prenoms), 9\n    /* TEXT, PROPS */\n    , _hoisted_7);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))], 512\n  /* NEED_PATCH */\n  ), [[_vModelSelect, _ctx.form.clientUuid]])]), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", null, [_hoisted_10, _withDirectives(_createElementVNode(\"textarea\", {\n    class: \"form-control\",\n    rows: \"4\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => _ctx.form.commentaires = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, _ctx.form.commentaires]])])]), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_hoisted_13, _withDirectives(_createElementVNode(\"input\", {\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => _ctx.form.dateReglement = $event),\n    type: \"date\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, _ctx.form.dateReglement]])])])]), _createElementVNode(\"div\", _hoisted_14, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.form.lines, row => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"t-row row mt-2\",\n      id: \"devismainblock\",\n      key: row\n    }, [_createElementVNode(\"div\", _hoisted_15, [_hoisted_16, _withDirectives(_createElementVNode(\"input\", {\n      class: \"form-control\",\n      \"onUpdate:modelValue\": $event => row.productName = $event,\n      type: \"text\",\n      placeholder: \"Description\"\n    }, null, 8\n    /* PROPS */\n    , _hoisted_17), [[_vModelText, row.productName]])]), _createElementVNode(\"div\", _hoisted_18, [_hoisted_19, _withDirectives(_createElementVNode(\"input\", {\n      class: \"form-control\",\n      \"onUpdate:modelValue\": $event => row.date = $event,\n      type: \"date\"\n    }, null, 8\n    /* PROPS */\n    , _hoisted_20), [[_vModelText, row.date]])]), _createElementVNode(\"div\", _hoisted_21, [_hoisted_22, _withDirectives(_createElementVNode(\"input\", {\n      id: \"qty\",\n      class: \"form-control calc-inp maclasse\",\n      \"onUpdate:modelValue\": $event => row.quantity = $event,\n      onKeydown: _cache[6] || (_cache[6] = (...args) => _ctx.format && _ctx.format(...args)),\n      placeholder: \"Quantité\",\n      type: \"number\",\n      step: \"1.0\"\n    }, null, 40\n    /* PROPS, HYDRATE_EVENTS */\n    , _hoisted_23), [[_vModelText, row.quantity]])]), _createElementVNode(\"div\", _hoisted_24, [_hoisted_25, _withDirectives(_createElementVNode(\"select\", {\n      id: \"unit\",\n      class: \"form-control\",\n      type: \"\",\n      style: {\n        \"font-weight\": \"300\"\n      },\n      \"onUpdate:modelValue\": $event => row.units = $event\n    }, _hoisted_35, 8\n    /* PROPS */\n    , _hoisted_26), [[_vModelSelect, row.units]])]), _createElementVNode(\"div\", _hoisted_36, [_hoisted_37, _withDirectives(_createElementVNode(\"input\", {\n      id: \"price\",\n      class: \"form-control calc-inp\",\n      type: \"number\",\n      placeholder: \"Prix €\",\n      \"onUpdate:modelValue\": $event => row.htPrice = $event\n    }, null, 8\n    /* PROPS */\n    , _hoisted_38), [[_vModelText, row.htPrice]])]), _createElementVNode(\"div\", _hoisted_39, [_hoisted_40, _withDirectives(_createElementVNode(\"input\", {\n      id: \"tax\",\n      class: \"form-control calc-inp\",\n      type: \"number\",\n      \"onUpdate:modelValue\": $event => row.tvaPercent = $event,\n      onKeydown: _cache[7] || (_cache[7] = (...args) => _ctx.format && _ctx.format(...args)),\n      placeholder: \"TVA %\",\n      step: \"1\"\n    }, null, 40\n    /* PROPS, HYDRATE_EVENTS */\n    , _hoisted_41), [[_vModelText, row.tvaPercent]])]), _createElementVNode(\"div\", _hoisted_42, [_hoisted_43, _createElementVNode(\"input\", {\n      class: \"form-control\",\n      type: \"points\",\n      value: (row.finalPrice = row.quantity * row.htPrice * (1 + row.tvaPercent / 100)).toFixed(2),\n      step: \"0.1\",\n      readonly: \"readonly\"\n    }, null, 8\n    /* PROPS */\n    , _hoisted_44)])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))]), _createCommentVNode(\" row.quantity * row.htPrice * (1 + row.tvaPercent / 100) \"), _createCommentVNode(\" Lines \"), _createElementVNode(\"div\", _hoisted_45, [_createElementVNode(\"div\", null, [_createElementVNode(\"button\", {\n    class: \"btn btn-light border mt-3\",\n    id: \"addbutton\",\n    type: \"button\",\n    onClick: _cache[8] || (_cache[8] = (...args) => _ctx.addRow && _ctx.addRow(...args))\n  }, \" Ajouter + \")]), _createElementVNode(\"div\", null, [_ctx.form.lines.length > 1 ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    onClick: _cache[9] || (_cache[9] = (...args) => _ctx.removeLast && _ctx.removeLast(...args)),\n    class: \"btn btn-light border mt-3\"\n  }, \" Supprimer - \")) : _createCommentVNode(\"v-if\", true)])]), _createElementVNode(\"div\", _hoisted_46, [_createElementVNode(\"div\", _hoisted_47, [_createElementVNode(\"div\", _hoisted_48, [_hoisted_49, _createElementVNode(\"div\", _hoisted_50, [_withDirectives(_createElementVNode(\"input\", {\n    class: \"form-check-input\",\n    type: \"radio\",\n    name: \"remise\",\n    id: \"inlineRadio1\",\n    value: \"€\",\n    checked: \"\",\n    \"onUpdate:modelValue\": _cache[10] || (_cache[10] = $event => _ctx.form.remiseUnits = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelRadio, _ctx.form.remiseUnits]]), _hoisted_51]), _createElementVNode(\"div\", _hoisted_52, [_withDirectives(_createElementVNode(\"input\", {\n    class: \"form-check-input\",\n    type: \"radio\",\n    name: \"remise\",\n    id: \"inlineRadio2\",\n    value: \"%\",\n    \"onUpdate:modelValue\": _cache[11] || (_cache[11] = $event => _ctx.form.remiseUnits = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelRadio, _ctx.form.remiseUnits]]), _hoisted_53]), _withDirectives(_createElementVNode(\"input\", {\n    class: \"form-control\",\n    placeholder: \"Remise\",\n    type: \"number\",\n    step: \"0.01\",\n    onKeydown: _cache[12] || (_cache[12] = (...args) => _ctx.format && _ctx.format(...args)),\n    \"onUpdate:modelValue\": _cache[13] || (_cache[13] = $event => _ctx.form.remise = $event)\n  }, null, 544\n  /* HYDRATE_EVENTS, NEED_PATCH */\n  ), [[_vModelText, _ctx.form.remise]])])]), _createElementVNode(\"div\", _hoisted_54, [_createElementVNode(\"div\", _hoisted_55, [_hoisted_56, _createElementVNode(\"div\", _hoisted_57, [_withDirectives(_createElementVNode(\"input\", {\n    class: \"form-check-input\",\n    type: \"radio\",\n    name: \"accompte\",\n    id: \"inlineRadio3\",\n    value: \"€\",\n    \"onUpdate:modelValue\": _cache[14] || (_cache[14] = $event => _ctx.form.accompteUnits = $event),\n    checked: \"\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelRadio, _ctx.form.accompteUnits]]), _hoisted_58]), _createElementVNode(\"div\", _hoisted_59, [_withDirectives(_createElementVNode(\"input\", {\n    class: \"form-check-input\",\n    type: \"radio\",\n    name: \"accompte\",\n    id: \"inlineRadio4\",\n    value: \"%\",\n    \"onUpdate:modelValue\": _cache[15] || (_cache[15] = $event => _ctx.form.accompteUnits = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelRadio, _ctx.form.accompteUnits]]), _hoisted_60]), _withDirectives(_createElementVNode(\"input\", {\n    class: \"form-control\",\n    placeholder: \"Acompte\",\n    type: \"number\",\n    step: \"0.01\",\n    onKeydown: _cache[16] || (_cache[16] = (...args) => _ctx.format && _ctx.format(...args)),\n    \"onUpdate:modelValue\": _cache[17] || (_cache[17] = $event => _ctx.form.accompte = $event)\n  }, null, 544\n  /* HYDRATE_EVENTS, NEED_PATCH */\n  ), [[_vModelText, _ctx.form.accompte]])])])]), _createElementVNode(\"div\", null, [_hoisted_61, _hoisted_62, _createElementVNode(\"input\", {\n    style: {\n      \"border\": \"none\"\n    },\n    type: \"number\",\n    placeholder: \"0.00\",\n    readonly: \"readonly\",\n    value: _ctx.form.totalHT = _ctx.getHT.toFixed(2)\n  }, null, 8\n  /* PROPS */\n  , _hoisted_63)]), _createElementVNode(\"div\", null, [_hoisted_64, _hoisted_65, _createElementVNode(\"input\", {\n    style: {\n      \"border\": \"none\"\n    },\n    type: \"number\",\n    placeholder: \"0.00\",\n    readonly: \"readonly\",\n    value: _ctx.form.totalTVA = _ctx.getTVAeuro.toFixed(2)\n  }, null, 8\n  /* PROPS */\n  , _hoisted_66)]), _createElementVNode(\"div\", _hoisted_67, [_hoisted_68, _hoisted_69, _createElementVNode(\"input\", {\n    id: \"amount\",\n    style: {\n      \"border\": \"none\"\n    },\n    type: \"number\",\n    placeholder: \"0.00\",\n    readonly: \"readonly\",\n    value: _ctx.form.totalTTC = _ctx.getTotal.toFixed(2)\n  }, null, 8\n  /* PROPS */\n  , _hoisted_70)])]), _createElementVNode(\"div\", _hoisted_71, _toDisplayString(_ctx.err), 1\n  /* TEXT */\n  ), _createElementVNode(\"div\", _hoisted_72, [_createElementVNode(\"button\", {\n    class: \"btn-hkos\",\n    onClick: _cache[18] || (_cache[18] = (...args) => _ctx.sendForm && _ctx.sendForm(...args))\n  }, \"Générer ma facture\")])], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","style","value","disabled","selected","hidden","for","id","_hoisted_27","_createVNode","_component_AddClientBlock","onAccept","_ctx","dispatch","revele","toggleModale","_hoisted_3","onClick","go","_hoisted_4","status","event","$event","target","clientUuid","_hoisted_6","_createElementBlock","_Fragment","_renderList","client","uuid","key","nom","_toDisplayString","prenoms","_hoisted_7","_hoisted_10","rows","commentaires","_hoisted_13","dateReglement","type","lines","row","_hoisted_16","productName","placeholder","_hoisted_19","date","_hoisted_22","quantity","onKeydown","step","_hoisted_25","units","_hoisted_37","htPrice","_hoisted_40","tvaPercent","_hoisted_43","finalPrice","toFixed","readonly","_createCommentVNode","length","_hoisted_49","name","checked","remiseUnits","_hoisted_51","_hoisted_53","remise","_hoisted_56","accompteUnits","_hoisted_58","_hoisted_60","accompte","_hoisted_61","_hoisted_62","totalHT","_hoisted_64","_hoisted_65","totalTVA","_hoisted_68","_hoisted_69","totalTTC"],"sourceRoot":"","sources":["/Users/feyraf/Desktop/projet Hkos/hkos-project-front/src/components/user/Facture/FactureBlockGenerateur.vue"],"sourcesContent":["<template>\n  <AddClientBlock\n    @accept=\"$store.dispatch('getClients')\"\n    v-bind:revele=\"revele\"\n    v-bind:toggleModale=\"toggleModale\"\n  />\n  <div class=\"container\">\n    <div class=\"border-bottom d-flex justify-content-between\">\n      <span class=\"fw-normal\" style=\"font-size: 20px\"\n        ><i\n          class=\"fa-solid fa-circle\"\n          style=\"font-size: 18px; color: yellow\"\n        ></i>\n        Facture</span\n      >\n      <button class=\"btn mb-1 btn-danger\" @click=\"$router.go(-1)\">\n        Retour\n      </button>\n    </div>\n\n    <div class=\"pb-2 mt-3\"><span>Client</span></div>\n\n    <div class=\"input-group pb-3 border-bottom\">\n      <button\n        class=\"btn-hkos\"\n        v-on:click=\"\n          $store.dispatch('toggleModal', { status: true, event: $event.target })\n        \"\n        id=\"open-modal\"\n      >\n        Nouveau client +\n      </button>\n      <select\n        class=\"form-control\"\n        style=\"font-weight: 300\"\n        v-model=\"form.clientUuid\"\n      >\n        <option value=\"\" disabled selected hidden>\n          ▾ Sélectionner un client\n        </option>\n        <option v-for=\"client in getClients\" :value=\"client.uuid\" :key=\"client\">\n          {{ client.nom }} {{ client.prenoms }}\n        </option>\n      </select>\n    </div>\n\n    <div class=\"d-flex border-bottom pb-3 pt-3 row\">\n      <div class=\"w-50 col-lg\">\n        <div>\n          <label class=\"form-label\" for=\"inputDesctiption\">Commentaires</label>\n          <textarea\n            class=\"form-control\"\n            rows=\"4\"\n            v-model=\"form.commentaires\"\n          ></textarea>\n        </div>\n      </div>\n      <div class=\"w-50 col-lg\">\n        <div class=\"pb-2\">\n          <label class=\"form-label\">Date limite de réglement </label>\n          <input\n            class=\"form-control\"\n            v-model=\"form.dateReglement\"\n            type=\"date\"\n          />\n        </div>\n      </div>\n    </div>\n\n    <div class=\"table\">\n      <div\n        class=\"t-row row mt-2\"\n        id=\"devismainblock\"\n        v-for=\"row in form.lines\"\n        :key=\"row\"\n      >\n        <div class=\"col-xl-4\" id=\"devismainblock\">\n          <label class=\"\">Description</label>\n          <input\n            class=\"form-control\"\n            v-model=\"row.productName\"\n            type=\"text\"\n            placeholder=\"Description\"\n          />\n        </div>\n        <div class=\"col\">\n          <label class=\"\">Date</label>\n          <input class=\"form-control\" v-model=\"row.date\" type=\"date\" />\n        </div>\n\n        <div class=\"col\">\n          <label class=\"\">Quantité</label>\n          <input\n            id=\"qty\"\n            class=\"form-control calc-inp maclasse\"\n            v-model=\"row.quantity\"\n            @keydown=\"format\"\n            placeholder=\"Quantité\"\n            type=\"number\"\n            step=\"1.0\"\n          />\n        </div>\n\n        <div class=\"col\">\n          <label class=\"\">Unité</label>\n          <select\n            id=\"unit\"\n            class=\"form-control\"\n            type=\"\"\n            style=\"font-weight: 300\"\n            v-model=\"row.units\"\n          >\n            <option value=\"\" disabled selected hidden>▾ Unité</option>\n            <option value=\"PIECE\">Piéce(s)</option>\n            <option value=\"HEURE\">Heures</option>\n            <option value=\"KM\">Km</option>\n            <option value=\"KG\">Kg</option>\n            <option value=\"M\">M</option>\n            <option value=\"LOT_PARC\">Lot Parc</option>\n            <option value=\"AM\">Am</option>\n          </select>\n        </div>\n\n        <div class=\"col\">\n          <label class=\"\">Prix</label>\n          <input\n            id=\"price\"\n            class=\"form-control calc-inp\"\n            type=\"number\"\n            placeholder=\"Prix €\"\n            v-model=\"row.htPrice\"\n          />\n        </div>\n        <div class=\"col\">\n          <label class=\"\">TVA</label>\n          <input\n            id=\"tax\"\n            class=\"form-control calc-inp\"\n            type=\"number\"\n            v-model=\"row.tvaPercent\"\n            @keydown=\"format\"\n            placeholder=\"TVA %\"\n            step=\"1\"\n          />\n        </div>\n\n        <div class=\"col\">\n          <label class=\"\">Montant</label>\n          <input\n            class=\"form-control\"\n            type=\"points\"\n            :value=\"\n              (row.finalPrice =\n                row.quantity *\n                row.htPrice *\n                (1 + row.tvaPercent / 100)).toFixed(2)\n            \"\n            step=\"0.1\"\n            readonly=\"readonly\"\n          />\n        </div>\n      </div>\n    </div>\n\n    <!-- row.quantity * row.htPrice * (1 + row.tvaPercent / 100) -->\n    <!-- Lines -->\n\n    <div class=\"mx-auto d-flex justify-content-between border-bottom pb-3\">\n      <div>\n        <button\n          class=\"btn btn-light border mt-3\"\n          id=\"addbutton\"\n          type=\"button\"\n          @click=\"addRow\"\n        >\n          Ajouter +\n        </button>\n      </div>\n\n      <div>\n        <button\n          v-if=\"form.lines.length > 1\"\n          @click=\"removeLast\"\n          class=\"btn btn-light border mt-3\"\n        >\n          Supprimer -\n        </button>\n      </div>\n    </div>\n\n    <div class=\"border-bottom pb-3 pt-3\">\n      <div class=\"w-25 col-lg\">\n        <div class=\"pb-2\">\n          <label class=\"form-label pe-2\" for=\"inputDesctiption\">Remise</label>\n          <div class=\"form-check form-check-inline\">\n            <input\n              class=\"form-check-input\"\n              type=\"radio\"\n              name=\"remise\"\n              id=\"inlineRadio1\"\n              value=\"€\"\n              checked\n              v-model=\"form.remiseUnits\"\n            />\n            <label class=\"form-check-label\" for=\"inlineRadio1\">€</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input\n              class=\"form-check-input\"\n              type=\"radio\"\n              name=\"remise\"\n              id=\"inlineRadio2\"\n              value=\"%\"\n              v-model=\"form.remiseUnits\"\n            />\n            <label class=\"form-check-label\" for=\"inlineRadio2\">%</label>\n          </div>\n          <input\n            class=\"form-control\"\n            placeholder=\"Remise\"\n            type=\"number\"\n            step=\"0.01\"\n            @keydown=\"format\"\n            v-model=\"form.remise\"\n          />\n        </div>\n      </div>\n      <div class=\"w-25 col-lg\">\n        <div class=\"pb-2\">\n          <label class=\"form-label pe-2\">Acompte</label>\n          <div class=\"form-check form-check-inline\">\n            <input\n              class=\"form-check-input\"\n              type=\"radio\"\n              name=\"accompte\"\n              id=\"inlineRadio3\"\n              value=\"€\"\n              v-model=\"form.accompteUnits\"\n              checked\n            />\n            <label class=\"form-check-label\" for=\"inlineRadio3\">€</label>\n          </div>\n          <div class=\"form-check form-check-inline\">\n            <input\n              class=\"form-check-input\"\n              type=\"radio\"\n              name=\"accompte\"\n              id=\"inlineRadio4\"\n              value=\"%\"\n              v-model=\"form.accompteUnits\"\n            />\n            <label class=\"form-check-label\" for=\"inlineRadio4\">%</label>\n          </div>\n          <input\n            class=\"form-control\"\n            placeholder=\"Acompte\"\n            type=\"number\"\n            step=\"0.01\"\n            @keydown=\"format\"\n            v-model=\"form.accompte\"\n          />\n        </div>\n      </div>\n    </div>\n\n    <div>\n      <label class=\"mt-3 me-3\">Total HT</label>\n      <span>€ </span>\n      <input\n        style=\"border: none\"\n        type=\"number\"\n        placeholder=\"0.00\"\n        readonly=\"readonly\"\n        :value=\"(form.totalHT = getHT.toFixed(2))\"\n      />\n    </div>\n\n    <div>\n      <label class=\"mt-3 me-2\">Total TVA</label>\n      <span>€ </span>\n      <input\n        style=\"border: none\"\n        type=\"number\"\n        placeholder=\"0.00\"\n        readonly=\"readonly\"\n        :value=\"(form.totalTVA = getTVAeuro.toFixed(2))\"\n      />\n    </div>\n\n    <div class=\"\">\n      <label class=\"mt-3 me-2\">Total TTC</label>\n      <span>€ </span>\n      <input\n        id=\"amount\"\n        style=\"border: none\"\n        type=\"number\"\n        placeholder=\"0.00\"\n        readonly=\"readonly\"\n        :value=\"(form.totalTTC = getTotal.toFixed(2))\"\n      />\n    </div>\n  </div>\n\n  <div id=\"notify\" class=\"text-danger\">{{ err }}</div>\n\n  <div class=\"d-flex justify-content-center m-4\">\n    <button class=\"btn-hkos\" @click=\"sendForm\">Générer ma facture</button>\n  </div>\n</template>\n\n<script>\nimport AddClientBlock from \"../AddClientBlock.vue\";\n\nclass lines {\n  productName = \"\";\n  date = \"\";\n  units = \"\";\n  quantity = \"\";\n  htPrice = \"\";\n  tvaPercent = \"\";\n  finalPrice = \"\";\n}\n\nexport default {\n  name: \"FactureBlockGenerateur\",\n  props: {\n    msg: String,\n  },\n\n  data() {\n    return {\n      status: false,\n      revele: false,\n      form: {\n        clientUuid: \"\",\n        dateReglement: \"\",\n        commentaires: \"\",\n        lines: [new lines()],\n        totalTTC: \"\",\n        totalHT: \"\",\n        totalTVA: \"\",\n        userUuid: \"7dc966c7-2a68-4a2d-b79e-407579f178c3\",\n        remise: \"\",\n        remiseUnits: \"\",\n        accompte: \"\",\n        accompteUnits: \"\",\n      },\n      err: \"\",\n    };\n  },\n  methods: {\n    format(e) {\n      var key = e.key;\n\n      if (\n        !/^\\d+/g.test(key) &&\n        key != \"Backspace\" &&\n        key != \"Delete\" &&\n        key != \"ArrowLeft\" &&\n        key != \"ArrowRight\"\n      ) {\n        e.preventDefault();\n      }\n    },\n    addRow() {\n      this.form.lines.push(new lines());\n    },\n    async sendForm() {\n      let res = await fetch(`${process.env.VUE_APP_ROOT_API}/facture/create`, {\n        method: \"post\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(this.form),\n      });\n\n      let data = await res.json();\n\n      if (data.message == \"Facture created\") {\n        this.$router.push(\"Facture\");\n      } else {\n        console.log(data);\n        this.err = data.error.message;\n      }\n    },\n\n    removeLast() {\n      this.form.lines.pop();\n    },\n\n    toggleModale: function (e) {\n      if (e) {\n        if (!e.target.closest(\".modale\") || e.target.id == \"close-btn\")\n          this.revele = false;\n      } else this.revele = false;\n    },\n  },\n  mounted() {\n    this.$store.dispatch(\"getClients\");\n  },\n\n  computed: {\n    getTotal(getHT) {\n      let result = 0;\n\n      if (this.form.remiseUnits === \"%\" && this.form.remise) {\n        this.form.lines.forEach((elem) => {\n        result +=\n          ((elem.htPrice * elem.quantity) * (1 - (this.form.remise / 100))) * (elem.tvaPercent / 100 + 1) \n      });\n      return result \n      }\n\n      this.form.lines.forEach((elem) => {\n        result +=\n          (elem.htPrice * elem.quantity) *\n          (elem.tvaPercent / 100 + 1);\n      });\n      return return\n\n      \n    },\n\n    getHT() {\n\n      let result = 0;\n\n      if (this.form.remiseUnits === \"%\" && this.form.remise) {\n        this.form.lines.forEach((elem) => {\n        result += (elem.htPrice * elem.quantity) * (1 - this.form.remise/100);\n      });\n\n      if (result < 0) {\n        return 0;\n      }\n\n      return result \n      }\n\n      this.form.lines.forEach((elem) => {\n        result += elem.htPrice * elem.quantity;\n      });\n\n      if (result < 0) {\n        return 0;\n      }\n      \n      return result - this.form.remise;\n    },\n\n\n    getTVAeuro() {\n      let result = 0;\n      this.form.lines.forEach((elem) => {\n        result +=\n          ((elem.htPrice * elem.quantity) * (1 - (this.form.remise / 100))) * (elem.tvaPercent / 100 + 1) - (elem.htPrice * elem.quantity - this.form.remise)\n      });\n      if (result < 0) {\n        return 0;\n      }\n      return result;\n    },\n\n    getClients() {\n      return this.$store.state.Clients;\n    },\n  },\n  components: {\n    AddClientBlock,\n  },\n};\n</script>\n\n<style scoped>\n* {\n  font-size: 14px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}