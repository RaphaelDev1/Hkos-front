{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withDirectives as _withDirectives, vModelText as _vModelText, createStaticVNode as _createStaticVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3b76e311\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"container\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"border-bottom\"\n}, [/*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"fw-normal\",\n  style: {\n    \"font-size\": \"20px\"\n  }\n}, \"Devis\")], -1\n/* HOISTED */\n));\n\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"pb-2 mt-3\"\n}, [/*#__PURE__*/_createElementVNode(\"span\", null, \"Client\")], -1\n/* HOISTED */\n));\n\nconst _hoisted_4 = {\n  class: \"input-group pb-3 border-bottom\"\n};\nconst _hoisted_5 = [\"value\"];\nconst _hoisted_6 = {\n  class: \"d-flex border-bottom pb-3 pt-3 row\"\n};\nconst _hoisted_7 = {\n  class: \"w-50 col-lg\"\n};\n\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label\",\n  for: \"inputDesctiption\"\n}, \"Commentaires\", -1\n/* HOISTED */\n));\n\nconst _hoisted_9 = {\n  class: \"w-50 col-lg\"\n};\nconst _hoisted_10 = {\n  class: \"pb-2\"\n};\n\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label\"\n}, \"Date limite de réglement \", -1\n/* HOISTED */\n));\n\nconst _hoisted_12 = [\"value\"];\nconst _hoisted_13 = {\n  class: \"table\"\n};\nconst _hoisted_14 = {\n  class: \"col-xl-4\",\n  id: \"devismainblock\"\n};\n\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"\"\n}, \"Description\", -1\n/* HOISTED */\n));\n\nconst _hoisted_16 = [\"onUpdate:modelValue\"];\nconst _hoisted_17 = {\n  class: \"col\"\n};\n\nconst _hoisted_18 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"\"\n}, \"Date\", -1\n/* HOISTED */\n));\n\nconst _hoisted_19 = [\"onUpdate:modelValue\"];\nconst _hoisted_20 = {\n  class: \"col\"\n};\n\nconst _hoisted_21 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"\"\n}, \"Quantité\", -1\n/* HOISTED */\n));\n\nconst _hoisted_22 = [\"onUpdate:modelValue\"];\nconst _hoisted_23 = {\n  class: \"col\"\n};\n\nconst _hoisted_24 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"\"\n}, \"Unité\", -1\n/* HOISTED */\n));\n\nconst _hoisted_25 = [\"onUpdate:modelValue\"];\n\nconst _hoisted_26 = /*#__PURE__*/_createStaticVNode(\"<option value=\\\"PIECE\\\" data-v-3b76e311>Piéce(s)</option><option value=\\\"HEURE\\\" data-v-3b76e311>Heures</option><option value=\\\"KM\\\" data-v-3b76e311>Km</option><option value=\\\"KG\\\" data-v-3b76e311>Kg</option><option value=\\\"M\\\" data-v-3b76e311>M</option><option value=\\\"LOT_PARC\\\" data-v-3b76e311>Lot Parc</option><option value=\\\"AM\\\" data-v-3b76e311>Am</option>\", 7);\n\nconst _hoisted_33 = [_hoisted_26];\nconst _hoisted_34 = {\n  class: \"col\"\n};\n\nconst _hoisted_35 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"\"\n}, \"Prix(€)\", -1\n/* HOISTED */\n));\n\nconst _hoisted_36 = [\"onUpdate:modelValue\"];\nconst _hoisted_37 = {\n  class: \"col\"\n};\n\nconst _hoisted_38 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"\"\n}, \"TVA(%)\", -1\n/* HOISTED */\n));\n\nconst _hoisted_39 = [\"onUpdate:modelValue\"];\nconst _hoisted_40 = {\n  class: \"col\"\n};\n\nconst _hoisted_41 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"\"\n}, \"Montant(€)\", -1\n/* HOISTED */\n));\n\nconst _hoisted_42 = [\"value\"];\nconst _hoisted_43 = {\n  class: \"mx-auto d-flex justify-content-between\"\n};\n\nconst _hoisted_44 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"mt-3 me-2\"\n}, \"Total HT(€)\", -1\n/* HOISTED */\n));\n\nconst _hoisted_45 = [\"value\"];\n\nconst _hoisted_46 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"mt-3 me-2\"\n}, \"Total TVA(€)\", -1\n/* HOISTED */\n));\n\nconst _hoisted_47 = [\"value\"];\n\nconst _hoisted_48 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"mt-3 me-2\"\n}, \"Total TTC\", -1\n/* HOISTED */\n));\n\nconst _hoisted_49 = [\"value\"];\nconst _hoisted_50 = {\n  id: \"notify\",\n  class: \"text-danger\"\n};\nconst _hoisted_51 = {\n  class: \"d-flex justify-content-center m-4\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_AddClientBlock = _resolveComponent(\"AddClientBlock\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_AddClientBlock, {\n    onAccept: _ctx.getForm,\n    revele: _ctx.revele,\n    toggleModale: $options.toggleModale\n  }, null, 8\n  /* PROPS */\n  , [\"onAccept\", \"revele\", \"toggleModale\"]), _createElementVNode(\"div\", _hoisted_1, [_hoisted_2, _hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"button\", {\n    class: \"input-group-text\",\n    onClick: _cache[0] || (_cache[0] = $event => _ctx.$store.dispatch('toggleModal', {\n      status: true,\n      event: $event.target\n    })),\n    id: \"open-modal\",\n    style: {\n      \"background-color\": \"rgb(50, 141, 245)\",\n      \"color\": \"white\"\n    }\n  }, \" Nouveau client + \"), _withDirectives(_createElementVNode(\"select\", {\n    class: \"form-control\",\n    style: {\n      \"font-weight\": \"300\"\n    },\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.$store.state.EditDevis.clientUuid = $event)\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.getClients, client => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      value: client.clientUuid,\n      key: client\n    }, _toDisplayString(client.nom) + \" \" + _toDisplayString(client.prenoms), 9\n    /* TEXT, PROPS */\n    , _hoisted_5);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))], 512\n  /* NEED_PATCH */\n  ), [[_vModelSelect, _ctx.$store.state.EditDevis.clientUuid]])]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", null, [_hoisted_8, _withDirectives(_createElementVNode(\"textarea\", {\n    class: \"form-control\",\n    rows: \"4\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => _ctx.$store.state.EditDevis.commentaires = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, _ctx.$store.state.EditDevis.commentaires]])])]), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_hoisted_11, _createElementVNode(\"input\", {\n    class: \"form-control\",\n    value: $options.getDate(),\n    type: \"date\"\n  }, null, 8\n  /* PROPS */\n  , _hoisted_12)])])]), _createElementVNode(\"div\", _hoisted_13, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.$store.state.EditDevis.lines, row => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"t-row row mt-2\",\n      key: row\n    }, [_createElementVNode(\"div\", _hoisted_14, [_hoisted_15, _withDirectives(_createElementVNode(\"input\", {\n      class: \"form-control\",\n      \"onUpdate:modelValue\": $event => row.productName = $event,\n      type: \"text\",\n      placeholder: \"Description\"\n    }, null, 8\n    /* PROPS */\n    , _hoisted_16), [[_vModelText, row.productName]])]), _createElementVNode(\"div\", _hoisted_17, [_hoisted_18, _withDirectives(_createElementVNode(\"input\", {\n      class: \"form-control\",\n      \"onUpdate:modelValue\": $event => row.date = $event,\n      type: \"date\"\n    }, null, 8\n    /* PROPS */\n    , _hoisted_19), [[_vModelText, row.date]])]), _createElementVNode(\"div\", _hoisted_20, [_hoisted_21, _withDirectives(_createElementVNode(\"input\", {\n      class: \"form-control calc-inp maclasse\",\n      placeholder: \"Quantité\",\n      \"onUpdate:modelValue\": $event => row.quantity = $event,\n      onKeydown: _cache[3] || (_cache[3] = (...args) => $options.format && $options.format(...args)),\n      type: \"number\",\n      step: \"1.0\"\n    }, null, 40\n    /* PROPS, HYDRATE_EVENTS */\n    , _hoisted_22), [[_vModelText, row.quantity]])]), _createElementVNode(\"div\", _hoisted_23, [_hoisted_24, _withDirectives(_createElementVNode(\"select\", {\n      class: \"form-control\",\n      type: \"\",\n      \"onUpdate:modelValue\": $event => row.units = $event\n    }, _hoisted_33, 8\n    /* PROPS */\n    , _hoisted_25), [[_vModelSelect, row.units]])]), _createElementVNode(\"div\", _hoisted_34, [_hoisted_35, _withDirectives(_createElementVNode(\"input\", {\n      class: \"form-control calc-inp\",\n      type: \"number\",\n      placeholder: \"Prix\",\n      \"onUpdate:modelValue\": $event => row.htPrice = $event\n    }, null, 8\n    /* PROPS */\n    , _hoisted_36), [[_vModelText, row.htPrice]])]), _createElementVNode(\"div\", _hoisted_37, [_hoisted_38, _withDirectives(_createElementVNode(\"input\", {\n      class: \"form-control calc-inp\",\n      type: \"number\",\n      \"onUpdate:modelValue\": $event => row.tvaPercent = $event,\n      onKeydown: _cache[4] || (_cache[4] = (...args) => $options.format && $options.format(...args)),\n      placeholder: \"TVA(%)\",\n      step: \"1\"\n    }, null, 40\n    /* PROPS, HYDRATE_EVENTS */\n    , _hoisted_39), [[_vModelText, row.tvaPercent]])]), _createElementVNode(\"div\", _hoisted_40, [_hoisted_41, _createElementVNode(\"input\", {\n      class: \"form-control\",\n      type: \"points\",\n      value: (row.finalPrice = row.quantity * row.htPrice * (1 + row.tvaPercent / 100)).toFixed(0),\n      placeholder: \"0.00\",\n      step: \"0.1\",\n      readonly: \"readonly\"\n    }, null, 8\n    /* PROPS */\n    , _hoisted_42)])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))]), _createElementVNode(\"div\", _hoisted_43, [_createElementVNode(\"div\", null, [_createElementVNode(\"button\", {\n    class: \"btn btn-light border mt-3\",\n    type: \"button\",\n    onClick: _cache[5] || (_cache[5] = (...args) => $options.addRow && $options.addRow(...args))\n  }, \" Ajouter + \")]), _createElementVNode(\"div\", null, [_createElementVNode(\"button\", {\n    onClick: _cache[6] || (_cache[6] = (...args) => $options.removeLast && $options.removeLast(...args)),\n    class: \"btn btn-light border mt-3\"\n  }, \" Supprimer - \")])]), _createElementVNode(\"div\", null, [_hoisted_44, _createElementVNode(\"input\", {\n    style: {\n      \"border\": \"none\"\n    },\n    type: \"number\",\n    placeholder: \"0.00\",\n    readonly: \"readonly\",\n    value: $options.getTotal().totalHT.toFixed(0)\n  }, null, 8\n  /* PROPS */\n  , _hoisted_45)]), _createElementVNode(\"div\", null, [_hoisted_46, _createElementVNode(\"input\", {\n    style: {\n      \"border\": \"none\"\n    },\n    type: \"number\",\n    placeholder: \"0.00\",\n    readonly: \"readonly\",\n    value: $options.getTotal().totalTVA.toFixed(0)\n  }, null, 8\n  /* PROPS */\n  , _hoisted_47)]), _createElementVNode(\"div\", null, [_hoisted_48, _createElementVNode(\"input\", {\n    style: {\n      \"border\": \"none\"\n    },\n    type: \"number\",\n    placeholder: \"0.00\",\n    readonly: \"readonly\",\n    value: $options.getTotal().totalTTC.toFixed(0)\n  }, null, 8\n  /* PROPS */\n  , _hoisted_49)])]), _createElementVNode(\"div\", _hoisted_50, _toDisplayString(_ctx.err), 1\n  /* TEXT */\n  ), _createElementVNode(\"div\", _hoisted_51, [_createElementVNode(\"button\", {\n    class: \"btnHkos\",\n    onClick: _cache[7] || (_cache[7] = (...args) => $options.sendForm && $options.sendForm(...args))\n  }, \"Modifier mon devis\")])], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","style","for","id","_hoisted_26","_createVNode","_component_AddClientBlock","onAccept","_ctx","revele","toggleModale","$options","_hoisted_2","_hoisted_3","onClick","dispatch","status","event","$event","target","state","EditDevis","clientUuid","_createElementBlock","_Fragment","_renderList","client","value","key","nom","_toDisplayString","prenoms","_hoisted_5","_hoisted_8","rows","commentaires","_hoisted_11","type","lines","row","_hoisted_15","productName","placeholder","_hoisted_18","date","_hoisted_21","quantity","onKeydown","step","_hoisted_24","units","_hoisted_35","htPrice","_hoisted_38","tvaPercent","_hoisted_41","finalPrice","toFixed","readonly","_hoisted_44","totalHT","_hoisted_46","totalTVA","_hoisted_48","totalTTC"],"sourceRoot":"","sources":["/Users/feyraf/Desktop/projet Hkos/hkos-project-front/src/components/user/Devis/EditDevis.vue"],"sourcesContent":["<template>\n  <AddClientBlock\n    @accept=\"getForm\"\n    v-bind:revele=\"revele\"\n    v-bind:toggleModale=\"toggleModale\"\n  />\n  <div class=\"container\">\n    <div class=\"border-bottom\">\n      <span class=\"fw-normal\" style=\"font-size: 20px\">Devis</span>\n    </div>\n\n    <div class=\"pb-2 mt-3\"><span>Client</span></div>\n\n    <div class=\"input-group pb-3 border-bottom\">\n      <button\n        class=\"input-group-text\"\n        v-on:click=\"\n          $store.dispatch('toggleModal', { status: true, event: $event.target })\n        \"\n        id=\"open-modal\"\n        style=\"background-color: rgb(50, 141, 245); color: white\"\n      >\n        Nouveau client +\n      </button>\n      <select\n        class=\"form-control\"\n        style=\"font-weight: 300\"\n        v-model=\"$store.state.EditDevis.clientUuid\"\n      >\n        <option\n          :value=\"client.clientUuid\"\n          v-for=\"client in getClients\"\n          :key=\"client\"\n        >\n          {{ client.nom }} {{ client.prenoms }}\n        </option>\n      </select>\n    </div>\n\n    <div class=\"d-flex border-bottom pb-3 pt-3 row\">\n      <div class=\"w-50 col-lg\">\n        <div>\n          <label class=\"form-label\" for=\"inputDesctiption\">Commentaires</label>\n          <textarea\n            class=\"form-control\"\n            rows=\"4\"\n            v-model=\"$store.state.EditDevis.commentaires\"\n          ></textarea>\n        </div>\n      </div>\n      <div class=\"w-50 col-lg\">\n        <div class=\"pb-2\">\n          <label class=\"form-label\">Date limite de réglement </label>\n          <input class=\"form-control\" :value=\"getDate()\" type=\"date\" />\n        </div>\n      </div>\n    </div>\n\n    <div class=\"table\">\n      <div\n        class=\"t-row row mt-2\"\n        v-for=\"row in $store.state.EditDevis.lines\"\n        :key=\"row\"\n      >\n        <div class=\"col-xl-4\" id=\"devismainblock\">\n          <label class=\"\">Description</label>\n          <input\n            class=\"form-control\"\n            v-model=\"row.productName\"\n            type=\"text\"\n            placeholder=\"Description\"\n          />\n        </div>\n        <div class=\"col\">\n          <label class=\"\">Date</label>\n          <input class=\"form-control\" v-model=\"row.date\" type=\"date\" />\n        </div>\n\n        <div class=\"col\">\n          <label class=\"\">Quantité</label>\n          <input\n            class=\"form-control calc-inp maclasse\"\n            placeholder=\"Quantité\"\n            v-model=\"row.quantity\"\n            @keydown=\"format\"\n            type=\"number\"\n            step=\"1.0\"\n          />\n        </div>\n\n        <div class=\"col\">\n          <label class=\"\">Unité</label>\n          <select class=\"form-control\" type=\"\" v-model=\"row.units\">\n            <option value=\"PIECE\">Piéce(s)</option>\n            <option value=\"HEURE\">Heures</option>\n            <option value=\"KM\">Km</option>\n            <option value=\"KG\">Kg</option>\n            <option value=\"M\">M</option>\n            <option value=\"LOT_PARC\">Lot Parc</option>\n            <option value=\"AM\">Am</option>\n          </select>\n        </div>\n        <div class=\"col\">\n          <label class=\"\">Prix(€)</label>\n          <input\n            class=\"form-control calc-inp\"\n            type=\"number\"\n            placeholder=\"Prix\"\n            v-model=\"row.htPrice\"\n          />\n        </div>\n        <div class=\"col\">\n          <label class=\"\">TVA(%)</label>\n          <input\n            class=\"form-control calc-inp\"\n            type=\"number\"\n            v-model=\"row.tvaPercent\"\n            @keydown=\"format\"\n            placeholder=\"TVA(%)\"\n            step=\"1\"\n          />\n        </div>\n\n        <div class=\"col\">\n          <label class=\"\">Montant(€)</label>\n          <input\n            class=\"form-control\"\n            type=\"points\"\n            :value=\"\n              (row.finalPrice =\n                row.quantity *\n                row.htPrice *\n                (1 + row.tvaPercent / 100)).toFixed(0)\n            \"\n            placeholder=\"0.00\"\n            step=\"0.1\"\n            readonly=\"readonly\"\n          />\n        </div>\n      </div>\n    </div>\n    <div class=\"mx-auto d-flex justify-content-between\">\n      <div>\n        <button class=\"btn btn-light border mt-3\" type=\"button\" @click=\"addRow\">\n          Ajouter +\n        </button>\n      </div>\n      <div>\n        <button @click=\"removeLast\" class=\"btn btn-light border mt-3\">\n          Supprimer -\n        </button>\n      </div>\n    </div>\n    <div>\n      <label class=\"mt-3 me-2\">Total HT(€)</label>\n      <input\n        style=\"border: none\"\n        type=\"number\"\n        placeholder=\"0.00\"\n        readonly=\"readonly\"\n        :value=\"getTotal().totalHT.toFixed(0)\"\n      />\n    </div>\n\n    <div>\n      <label class=\"mt-3 me-2\">Total TVA(€)</label>\n      <input\n        style=\"border: none\"\n        type=\"number\"\n        placeholder=\"0.00\"\n        readonly=\"readonly\"\n        :value=\"getTotal().totalTVA.toFixed(0)\"\n      />\n    </div>\n    <div>\n      <label class=\"mt-3 me-2\">Total TTC</label>\n      <input\n        style=\"border: none\"\n        type=\"number\"\n        placeholder=\"0.00\"\n        readonly=\"readonly\"\n        :value=\"getTotal().totalTTC.toFixed(0)\"\n      />\n    </div>\n  </div>\n  <div id=\"notify\" class=\"text-danger\">{{ err }}</div>\n  <div class=\"d-flex justify-content-center m-4\">\n    <button class=\"btnHkos\" @click=\"sendForm\">Modifier mon devis</button>\n  </div>\n</template>\n\n<script>\nimport AddClientBlock from \"../AddClientBlock.vue\";\n\nclass lines {\n  productName = \"\";\n  date = \"\";\n  units = \"\";\n  quantity = \"\";\n  htPrice = \"\";\n  tvaPercent = \"\";\n  finalPrice = \"\";\n}\n\nexport default {\n  name: \"EditDevis\",\n\n  methods: {\n    format(e) {\n      var key = e.key;\n      if (\n        !/^\\d+/g.test(key) &&\n        key != \"Backspace\" &&\n        key != \"Delete\" &&\n        key != \"ArrowLeft\" &&\n        key != \"ArrowRight\"\n      ) {\n        e.preventDefault();\n      }\n    },\n    addRow() {\n      this.$store.state.EditDevis.lines.push(new lines());\n    },\n    async sendForm() {\n      let res = await fetch(`https://hkos-back.herokuapp.com/devis/update/`, {\n        method: \"post\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(this.$store.state.EditDevis),\n      });\n\n      let data = await res.json();\n      if (data.message == \"Devis Updated\") {\n        this.$router.push(\"/Devis\");\n      } else {\n        console.log(data);\n        this.err = data.error.message;\n      }\n    },\n\n    removeLast() {\n      if (this.$store.state.EditDevis.lines.length > 1) {\n        this.$store.state.EditDevis.lines.pop();\n      }\n    },\n\n    toggleModale: function (e) {\n      if (e) {\n        if (!e.target.closest(\".modale\") || e.target.id == \"close-btn\")\n          this.revele = false;\n      } else this.revele = false;\n    },\n\n    getTotal() {\n      const Result = {\n        totalHT: 0,\n        totalTTC: 0,\n        totalTVA: 0,\n      };\n      if (this.$store.state.EditDevis.lines) {\n        this.$store.state.EditDevis.lines.forEach((elem) => {\n          Result.totalHT += elem.htPrice * elem.quantity;\n          Result.totalTTC += elem.finalPrice;\n          Result.totalTVA += elem.finalPrice - elem.htPrice * elem.quantity;\n        });\n      }\n      this.$store.state.EditDevis.totalHT = Result.totalHT.toFixed();\n      this.$store.state.EditDevis.totalTTC = Result.totalTTC.toFixed();\n      this.$store.state.EditDevis.totalTVA = Result.totalTVA.toFixed();\n\n      return Result;\n    },\n\n    getDate() {\n      let Result = \"\";\n      if (this.$store.state.EditDevis.dateReglement) {\n        Result = this.$store.state.EditDevis.dateReglement.substring(\n          0,\n          this.$store.state.EditDevis.dateReglement.length - 14\n        );\n      }\n\n      this.$store.state.EditDevis.totalTVA == Result;\n\n      return Result;\n    },\n  },\n  mounted() {\n    this.$store.dispatch(\"getDevis\", { uuid: this.$route.params.uuid });\n    this.$store.dispatch(\"getClients\");\n  },\n\n  computed: {\n    getClients() {\n      return this.$store.state.Clients;\n    },\n  },\n  components: {\n    AddClientBlock,\n  },\n};\n</script>\n<style scoped>\n* {\n  font-size: 14px;\n}\n</style>\n\n"]},"metadata":{},"sourceType":"module"}