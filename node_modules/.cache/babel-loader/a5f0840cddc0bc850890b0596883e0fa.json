{"ast":null,"code":"export default {\n  name: \"ConnectionBlock\",\n  props: {\n    msg: String\n  },\n\n  data() {\n    return {\n      form: {\n        login: \"\",\n        password: \"\"\n      }\n    };\n  },\n\n  methods: {\n    async sendForm() {\n      let res = await fetch(\"http://localhost:3000/auth/login\", {\n        method: \"post\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(this.form)\n      });\n      let data = await res.json();\n      console.log(data);\n      console.log(res.json.msg);\n      const Notify = document.querySelector(\"#notify\");\n      if (data.status == \"ok\") Notify.innerHTML = this.$router.push('Dashboard');else Notify.innerHTML = '<p class=\"text-danger\">Login ou mot de passe incorrecte!</p>';\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA6CA,eAAe;EACbA,IAAI,EAAE,iBADO;EAEbC,KAAK,EAAE;IACLC,GAAG,EAAEC;EADA,CAFM;;EAKbC,IAAI,GAAG;IACL,OAAO;MACLC,IAAI,EAAE;QACJC,KAAK,EAAE,EADH;QAEJC,QAAQ,EAAE;MAFN;IADD,CAAP;EAMD,CAZY;;EAabC,OAAO,EAAE;IACP,MAAMC,QAAN,GAAiB;MACf,IAAIC,GAAE,GAAI,MAAMC,KAAK,CAAC,kCAAD,EAAqC;QACxDC,MAAM,EAAE,MADgD;QAExDC,OAAO,EAAE;UAAE,gBAAgB;QAAlB,CAF+C;QAGxDC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,KAAKX,IAApB;MAHkD,CAArC,CAArB;MAMA,IAAID,IAAG,GAAI,MAAMM,GAAG,CAACO,IAAJ,EAAjB;MAEAC,OAAO,CAACC,GAAR,CAAYf,IAAZ;MACAc,OAAO,CAACC,GAAR,CAAYT,GAAG,CAACO,IAAJ,CAASf,GAArB;MACA,MAAMkB,MAAK,GAAIC,QAAQ,CAACC,aAAT,CAAuB,SAAvB,CAAf;MAEA,IAAIlB,IAAI,CAACmB,MAAL,IAAe,IAAnB,EACEH,MAAM,CAACI,SAAP,GACE,KAAKC,OAAL,CAAaC,IAAb,CAAkB,WAAlB,CADF,CADF,KAIEN,MAAM,CAACI,SAAP,GAAmB,8DAAnB;IACH;;EAnBM;AAbI,CAAf","names":["name","props","msg","String","data","form","login","password","methods","sendForm","res","fetch","method","headers","body","JSON","stringify","json","console","log","Notify","document","querySelector","status","innerHTML","$router","push"],"sourceRoot":"","sources":["/Users/feyraf/Desktop/projet Hkos/hkos-project-front/src/registration/ConnectionBlock.vue"],"sourcesContent":["<template>\n  <div class=\"container-sm\">\n    <form>\n      <div class=\"d-flex justify-content-center mb-5\">\n        <img src=\"img/logo.png\" class=\"logoinscription\" />\n      </div>\n\n      <!-- Email input -->\n      <div class=\"form-outline mb-4\">\n        <input type=\"email\" id=\"form2Example1\" v-model=\"form.login\" class=\"form-control\" />\n        <label class=\"form-label\" for=\"form2Example1\">Login</label>\n      </div>\n\n      <!-- Password input -->\n      <div class=\"form-outline mb-4\">\n        <input type=\"password\" id=\"form2Example2\" v-model=\"form.password\" class=\"form-control\" />\n        <label class=\"form-label\" for=\"form2Example2\">Mot de passe</label>\n      </div>\n\n      <!-- 2 column grid layout for inline styling -->\n      <div class=\"row mb-4\">\n        <!-- Submit button -->\n        <div class=\"d-flex justify-content-center\">\n          <router-link class=\"btn btn-primary btn-block mb-4\" @click=\"sendForm\" to=\"/dashboard\">\n            Connexion</router-link\n          >\n        </div>\n\n        <div id=\"notify\"></div>\n\n        <div class=\"col d-flex justify-content-center\">\n          <!-- Simple link -->\n          <router-link to=\"/forgot-pass\" class=\"text-black\"  style=\"\">Mot de passe oublié?</router-link>\n        </div>\n      </div>\n\n      <!-- Register buttons -->\n      <div class=\"text-center\">\n        <p>Vous n'etes pas un membre? <router-link class=\"text-black\" to=\"/new-account\">Créer un compte</router-link></p>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"ConnectionBlock\",\n  props: {\n    msg: String,\n  },\n  data() {\n    return {\n      form: {\n        login: \"\",\n        password: \"\",\n      },\n    };\n  },\n  methods: {\n    async sendForm() {\n      let res = await fetch(\"http://localhost:3000/auth/login\", {\n        method: \"post\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(this.form),\n      });\n\n      let data = await res.json();\n\n      console.log(data);\n      console.log(res.json.msg)\n      const Notify = document.querySelector(\"#notify\");\n\n      if (data.status == \"ok\")\n        Notify.innerHTML =\n          this.$router.push('Dashboard') ;\n      else\n        Notify.innerHTML = '<p class=\"text-danger\">Login ou mot de passe incorrecte!</p>'; \n    },\n  },\n};\n</script>"]},"metadata":{},"sourceType":"module"}