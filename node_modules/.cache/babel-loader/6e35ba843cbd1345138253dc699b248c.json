{"ast":null,"code":"import { createStore } from \"vuex\";\nexport default createStore({\n  state: () => ({\n    //data\n    revele: false,\n    item: {},\n    Clients: [],\n    User: [],\n    Devis: [],\n    EditDevis: {},\n    link: {}\n  }),\n  mutations: {},\n  actions: {\n    toggleModal({\n      state\n    }, payload) {\n      console.log(payload.event);\n\n      if (payload.data) {\n        state.item = { ...payload.data\n        };\n      }\n\n      if (payload.status && !payload.event.closest(\".dropdown\")) return state.revele = payload.status;\n\n      if (payload.target) {\n        if (!payload.target.closest(\".modale\") || payload.target.id == \"close-btn\") state.revele = false;\n      } else state.revele = false;\n    },\n\n    async getClients({\n      state\n    }) {\n      let res = await fetch(`${process.env.VUE_APP_ROOT_API}/clients`);\n      let data = await res.json();\n      console.log(data);\n      state.Clients = data;\n    },\n\n    //   state.Clients = data[0].clients;\n    async getUser({\n      state\n    }) {\n      let res = await fetch(`${process.env.VUE_APP_ROOT_API}/users`);\n      let data = await res.json();\n      console.log(data);\n      state.User = data;\n    },\n\n    async getDevis({\n      state\n    }, payload) {\n      let res = await fetch(`${process.env.VUE_APP_ROOT_API}/devis`);\n      let data = await res.json();\n      state.Devis = data.map(el => ({ ...el,\n        dateReglement: el.dateReglement.slice(0, 10),\n        lines: el.lines.map(elem => ({ ...elem,\n          date: elem.date.slice(0, 10)\n        }))\n      })).reverse();\n\n      if (payload) {\n        state.EditDevis = { ...state.Devis.find(el => el.uuid == payload.uuid)\n        };\n        console.log(payload.uuid);\n      }\n    },\n\n    Download(payload) {\n      if (payload) {\n        window.location = `https://hkos-back.herokuapp.com/devis/download/${payload}`;\n      }\n    }\n\n  }\n});","map":{"version":3,"names":["createStore","state","revele","item","Clients","User","Devis","EditDevis","link","mutations","actions","toggleModal","payload","console","log","event","data","status","closest","target","id","getClients","res","fetch","process","env","VUE_APP_ROOT_API","json","getUser","getDevis","map","el","dateReglement","slice","lines","elem","date","reverse","find","uuid","Download","window","location"],"sources":["/Users/feyraf/Desktop/projet Hkos/hkos-project-front/src/store/index.js"],"sourcesContent":["import { createStore } from \"vuex\";\n\nexport default createStore({\n  state: () => ({\n    //data\n    revele: false,\n    item: {},\n    Clients: [],\n    User: [],\n    Devis: [],\n    EditDevis: {},\n    link: {},\n  }),\n  mutations: {},\n  actions: {\n    toggleModal({ state }, payload) {\n      console.log(payload.event);\n\n      if (payload.data) {\n        state.item = { ...payload.data };\n      }\n\n      if (payload.status && !payload.event.closest(\".dropdown\"))\n        return (state.revele = payload.status);\n\n      if (payload.target) {\n        if (\n          !payload.target.closest(\".modale\") ||\n          payload.target.id == \"close-btn\"\n        )\n          state.revele = false;\n      } else state.revele = false;\n    },\n\n    async getClients({ state }) {\n      let res = await fetch(`${process.env.VUE_APP_ROOT_API}/clients`);\n      let data = await res.json();\n      console.log(data);\n      state.Clients = data;\n    },\n    //   state.Clients = data[0].clients;\n\n    async getUser({ state }) {\n      let res = await fetch(`${process.env.VUE_APP_ROOT_API}/users`);\n      let data = await res.json();\n      console.log(data);\n      state.User = data;\n    },\n\n    async getDevis({ state }, payload) {\n      let res = await fetch(`${process.env.VUE_APP_ROOT_API}/devis`);\n      let data = await res.json();\n      state.Devis = data.map((el) => ({ ...el, dateReglement: el.dateReglement.slice(0, 10), \n                                                lines: el.lines.map((elem) => ({\n                                                 ...elem, date: elem.date.slice(0, 10)\n                                                })) })).reverse();\n      if (payload) {\n        state.EditDevis = { ...state.Devis.find((el) => el.uuid == payload.uuid) };\n        console.log(payload.uuid);\n      }\n    },\n\n    Download(payload) {\n      if (payload) {\n        window.location = `https://hkos-back.herokuapp.com/devis/download/${payload}`;\n      }\n    },\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}