{"ast":null,"code":"import { createStore } from \"vuex\";\nexport default createStore({\n  state: () => ({\n    //data\n    revele: false,\n    item: {},\n    Clients: [],\n    User: [],\n    Devis: [],\n    EditDevis: {},\n    link: {},\n    status_table: ''\n  }),\n  mutations: {},\n  actions: {\n    toggleModal({\n      state\n    }, payload) {\n      console.log(payload.event);\n\n      if (payload.data) {\n        state.item = { ...payload.data\n        };\n      }\n\n      if (payload.status && !payload.event.closest(\".dropdown\")) return state.revele = payload.status;\n\n      if (payload.target) {\n        if (!payload.target.closest(\".modale\") || payload.target.id == \"close-btn\") state.revele = false;\n      } else state.revele = false;\n    },\n\n    async getClients({\n      state\n    }) {\n      let res = await fetch(`${process.env.VUE_APP_ROOT_API}/clients`);\n      let data = await res.json();\n      console.log(data);\n      state.Clients = data;\n    },\n\n    //   state.Clients = data[0].clients;\n    async getUser({\n      state\n    }) {\n      let res = await fetch(`${process.env.VUE_APP_ROOT_API}/users`);\n      let data = await res.json();\n      console.log(data);\n      state.User = data;\n    },\n\n    async getDevis({\n      state\n    }, payload) {\n      let res = await fetch(`${process.env.VUE_APP_ROOT_API}/devis`);\n      let data = await res.json();\n      state.Devis = data.map(el => ({ ...el,\n        dateReglement: el.dateReglement.slice(0, 10),\n        lines: el.lines.map(elem => ({ ...elem,\n          date: elem.date?.slice(0, 10)\n        }))\n      })).reverse();\n\n      if (payload) {\n        state.EditDevis = { ...state.Devis.find(el => el.uuid == payload.uuid)\n        };\n        console.log(payload.uuid);\n      }\n    }\n\n  }\n});","map":{"version":3,"names":["createStore","state","revele","item","Clients","User","Devis","EditDevis","link","status_table","mutations","actions","toggleModal","payload","console","log","event","data","status","closest","target","id","getClients","res","fetch","process","env","VUE_APP_ROOT_API","json","getUser","getDevis","map","el","dateReglement","slice","lines","elem","date","reverse","find","uuid"],"sources":["/Users/feyraf/Desktop/projet Hkos/hkos-project-front/src/store/index.js"],"sourcesContent":["import { createStore } from \"vuex\";\n\nexport default createStore({\n  state: () => ({\n    //data\n    revele: false,\n    item: {},\n    Clients: [],\n    User: [],\n    Devis: [],\n    EditDevis: {},\n    link: {},\n    status_table: ''\n  }),\n  mutations: {},\n  actions: {\n    toggleModal({ state }, payload) {\n      console.log(payload.event);\n\n      if (payload.data) {\n        state.item = { ...payload.data };\n      }\n\n      if (payload.status && !payload.event.closest(\".dropdown\"))\n        return (state.revele = payload.status);\n\n      if (payload.target) {\n        if (\n          !payload.target.closest(\".modale\") ||\n          payload.target.id == \"close-btn\"\n        )\n          state.revele = false;\n      } else state.revele = false;\n    },\n\n    async getClients({ state }) {\n      let res = await fetch(`${process.env.VUE_APP_ROOT_API}/clients`);\n      let data = await res.json();\n      console.log(data);\n      state.Clients = data;\n    },\n    //   state.Clients = data[0].clients;\n\n    async getUser({ state }) {\n      let res = await fetch(`${process.env.VUE_APP_ROOT_API}/users`);\n      let data = await res.json();\n      console.log(data);\n      state.User = data;\n    },\n\n    async getDevis({ state }, payload) {\n      let res = await fetch(`${process.env.VUE_APP_ROOT_API}/devis`);\n      let data = await res.json();\n      state.Devis = data.map((el) => ({ ...el, dateReglement: el.dateReglement.slice(0, 10), \n                                                lines: el.lines.map((elem) => ({ ...elem, date: elem.date?.slice(0, 10)  }) )\n                                      }))\n                                      .reverse();\n      if (payload) {\n        state.EditDevis = { ...state.Devis.find((el) => el.uuid == payload.uuid) };\n        console.log(payload.uuid);\n      }\n    },\n\n  \n\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}